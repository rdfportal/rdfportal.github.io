{"version":3,"file":"main.js","sources":["../../source/js/global.js","../../source/js/HomeViewController.js","../../source/js/ListViewController.js","../../source/js/MatrixItemView.js","../../source/js/MatrixScrollbarView.js","../../source/js/MatrixViewController.js","../../source/js/GraphViewController.js","../../source/js/ManualViewController.js","../../source/js/GuidelineViewController.js","../../source/js/ChangeLogViewController.js","../../source/js/StarImage.js","../../source/js/DetailViewController.js","../../source/js/Datasets.js","../../source/js/ViewLabel.js","../../source/js/ControlPanel.js","../../source/js/Star.js","../../source/js/RDFPortal.js","../../source/js/UserDefaults.js","../../source/js/main.js"],"sourcesContent":["/* global $ */\n\nexport const isDebug = false;\nexport const $w = $(window);\n\nexport const __g = {\n\tVIEWS: {\n\t\thome: 0,\n\t\tdatasets: 1,\n\t\tstatistics: 2,\n\t\tnetwork: 3,\n\t\tdocuments: 4,\n\t\tguideline: 5,\n\t\tchangeLog: 6,\n\t\tdataset: 7\n\t},\n\tVIEWS_NAME: [ 'home', 'datasets', 'statistics', 'network', 'documents', 'guideline', 'changeLog', 'dataset' ],\n\tVIEWS_LABEL: [ 'Home', 'Datasets', 'Statistics', 'Network view', 'Documents', 'Guideline', 'Change log', ' ' ],\n\tVIEW_LABEL_DETAIL: 'dataset',\n\tSTAR_TYPE: {\n\t\tfirst: 'first',\n\t\tconnected: 'connected'\n\t},\n\tSTRINGS: {},\n\tCOLORS: [\n\t\t'#E4007F',\n\t\t'#FF2121',\n\t\t'#FF29A0',\n\t\t'#FF8000',\n\t\t'#EBB800',\n\t\t'#CAD400',\n\t\t'#9AD400',\n\t\t'#15AD52',\n\t\t'#00D1AB',\n\t\t'#00C0FA',\n\t\t'#5E65E6',\n\t\t'#9B5BF0',\n\t\t'#B813BD',\n\t\t'#E47295',\n\t\t'#E4C172',\n\t\t'#BAED77',\n\t\t'#90E4CF',\n\t\t'#799AE4',\n\t\t'#C57DE4',\n\t\t'#99007B',\n\t\t'#992509',\n\t\t'#8C9900',\n\t\t'#09751F',\n\t\t'#007B99',\n\t\t'#432E99'\n\t],\n\tDURATION: 500,\n\tDETAIL_DELAY: 400,\n\tCLASS: {\n\t\tSTAR_HOVERING: 'star-hovering',\n\t\tTAG_HOVERING: 'tag-hovering',\n\t\tCONNECTED_STAR_HOVERING: 'connected-star-hovering'\n\t},\n\tDETAIL_MARGIN: 310,\n\tDETAIL_MARGIN_RIGHT: 24,\n\tDATA_LENGTH: 20,\n\t//SVG_MARGIN_LEFT: -114,\n\tSVG_MARGIN_LEFT: 0,\n\td3: {\n\t\tsvg: undefined,\n\t\tedges: undefined,\n\t\tnodesData: [],\n\t\tnodesSelection: undefined,\n\t\tlinksData: [],\n\t\tlinksSelection: undefined,\n\t\tforce: undefined\n\t},\n\tdisposableStarId: 0,\n\tcanvasId: 0,\n\tcontrolPanel: undefined,\n\tuserDefaults: undefined,\n\tstyleSheet: undefined,\n\tguideline: {},\n\trootPath: (() => {\n\t\tconst\n\t\t\thost = location.host,\n\t\t\tpathname = location.pathname;\n\t\tlet path;\n\t\tif (host.indexOf('integbio') !== -1) {\n\t\t\tif (pathname.indexOf('/rdf/dev/') !== -1) {\n\t\t\t\tpath = '/rdf/dev/';\n\t\t\t} else if (pathname.indexOf('/rdf/staging/') !== -1) {\n\t\t\t\tpath = '/rdf/staging/';\n\t\t\t} else if (pathname.indexOf('/rdf/prod/') !== -1) {\n\t\t\t\tpath = '/rdf/prod/';\n\t\t\t} else {\n\t\t\t\tpath = '/rdf/';\n\t\t\t}\n\t\t} else if (host.indexOf('penqe') !== -1) {\n\t\t\tpath = '/dbcls/rdfp/';\n\t\t} else {\n\t\t\tpath = '/';\n\t\t}\n\t\treturn path;\n\t})()\n};\n\n\n// HTML生成用関数\nexport const _html = function() {\n\tlet tag, attr, html;\n\n\tswitch (arguments.length) {\n\n\t\tcase 2: \n\t\t\ttag = arguments[0];\n\t\t\tattr = '';\n\t\t\thtml = arguments[1];\n\t\tbreak;\n\n\t\tcase 3: {\n\t\t\ttag = arguments[0];\n\t\t\tconst attrObje = arguments[1];\n\t\t\tattr = (function(){\n\t\t\t\tlet attrHtml = '';\n\t\t\t\tfor (const i in attrObje) {\n\t\t\t\t\tattrHtml += ` ${i}=\"${attrObje[i]}\"`;\n\t\t\t\t}\n\t\t\t\treturn attrHtml;\n\t\t\t})();\n\t\t\thtml = arguments[2];\n\t\t}\n\t\tbreak;\n\t\t\n\t}\n\treturn `<${tag} ${attr}>${html}</${tag}>`;\n};\n\nexport const _MLHtml = function() {\n\tlet tag, attr, MLtext, html = '', lang;\n\n\tswitch (arguments.length) {\n\n\t\tcase 1: \n\t\t\tMLtext = arguments[0];\n\t\t\tfor (lang in MLtext) {\n\t\t\t\thtml += _html('span', { lang: lang }, MLtext[lang]);\n\t\t\t}\n\t\t\treturn html;\n\t\t//break;\n\n\t\tcase 2: \n\t\t\ttag = arguments[0];\n\t\t\tattr = '';\n\t\t\tMLtext = arguments[1];\n\t\tbreak;\n\n\t\tcase 3: \n\t\t\ttag = arguments[0];\n\t\t\tattr = arguments[1];\n\t\t\tMLtext = arguments[2];\n\t\tbreak;\n\t\t\n\t}\n\tfor (lang in MLtext) {\n\t\thtml += _html('span', { lang: lang }, MLtext[lang]);\n\t}\n\treturn _html(tag, attr, html);\n};\n\nexport const _numeral = value => `<span class=\"numeral\">${value}</span>`;\n\nexport const _htmlAnchor = (uri, label) => _html('a', { href: uri, target: '_blank' }, (label === '' || label.indexOf('lang=\"en\"></span>') !== -1) ? uri : label);\n\nexport const _MLAnchor = (uri, label) => {\n\tlet html = '';\n\tconst isString = typeof uri === 'string';\n\tfor (const lang in label) {\n\t\tconst uri2 = isString ? uri : uri[lang];\n\t\thtml += _html(\n\t\t\t'a',\n\t\t\t{ lang: lang, href: uri2, target: '_blank' },\n\t\t\tlabel[lang] === '' ? uri2 : label[lang]\n\t\t);\n\t}\n\treturn html;\n};\n\nexport const _htmlTR = (key, value) => _html('tr', _html('th', key) + _html('td', value));\n\nexport const _htmlTRValueNumeral = (key, value) => `<tr class=\"value-numeral\"><th>${key}</th><td>${_numeral(value)}</td></tr>`;\n\nexport const _htmlTRHasDetailValueNumeral = (key, value) => `<tr class=\"has-detail value-numeral\"><th>${key}<span class=\"open-button\"></span></th><td>${_numeral(value)}</td></tr>`;\n\n/* Classes / Instances または Properties / Triples の場合のディティール折りたたみ\n * @param key\t\t\t\t\t\t\t項目名\n * @param value\t\t\t\t\t\t値\n * @param kind\t\t\t\t\t\t種類（classes / properties）\n * @param jsonUri\t\t\t\t\t閉じられた領域の情報を格納するJSONのURI\n * @param classification\t項目がどこに属するか（undefined / ontology / graph）\n * @param index\t\t\t\t\t\t配列の場合の位置\n *\n */\nexport const _htmlTRHasDetailValueNumeral2 = (key, value, kind, jsonUri, classification, index) => `<tr class=\"has-detail value-numeral\" data-json-kind=\"${kind}\" data-json-uri=\"${jsonUri}\" data-classification=\"${classification}\" data-index=\"${index}\"><th>${key}<span class=\"open-button\"></span></th><td>${value}</td></tr>`;\n\nexport const _htmlTRDetail = detailHtml => `<tr class=\"detail\"><td colspan=\"2\"><div class=\"closer\"><div class=\"closer-inner\">${detailHtml}</div></div></td></tr>`;\n\n/* param item: 'graphs' or 'ontorogies'\n */\nexport const _htmlHasDetailAndDetail = item => {\n\tconst\n\t\tdatasets = __g.app.datasets,\n\t\tstarId = __g.app.currentStarId,\n\t\tSTR = __g.STRINGS;\n\tif (datasets[item].noOf(starId) === 0) {\n\t\treturn '';\n\t}\n\tconst html =\n\t_html('tbody',\n\t\t_html('tr', { class: 'caption' },\n\t\t\t_html('th', { colspan: 2 }, _MLHtml(STR[item]))) +\n\t\t(function(){\n\t\t\tlet subHtml = '';\n\t\t\tfor (let i = 0; i < datasets[item].noOf(starId); i++) {\n\t\t\t\t//var uri = datasets[item].uri(starId, i);\n\t\t\t\tsubHtml +=\n\t\t\t\t\t_html('tr', { class: 'has-detail' },\n\t\t\t\t\t\t_html('th', { colspan: 2 }, datasets[item].uri(starId, i) + '<span class=\"open-button\"></span>')) +\n\t\t\t\t\t_html('tr', { class: 'detail hidden' },\n\t\t\t\t\t\t_html('td', { colspan: 2 }, \n\t\t\t\t\t\t\t_html('div', { class: 'closer' },\n\t\t\t\t\t\t\t\t_html('div', { class: 'closer-inner' },\n\t\t\t\t\t\t\t\t\t_html('table', { class: 'horizontal-table internal' },\n\t\t\t\t\t\t\t\t\t\t_htmlStatics(starId, item, i))))));\n\t\t\t}\n\t\t\treturn subHtml;\n\t\t})()\n\t);\n\treturn html;\n};\n\nexport const _htmlStatics = (starId, classification, index) => {\n\tconst\n\t\tSTR = __g.STRINGS,\n\t\tHYPHEN = '<span class=\"hyphen\"></span>',\n\t\tDATASETS = classification === undefined ? __g.app.datasets : __g.app.datasets[classification],\n\t\tNO_OF_CLASSES = DATASETS.classes.noOf(starId, index),\n\t\tNO_OF_PROPERTIES = DATASETS.properties.noOf(starId, index),\n\t\tNO_OF_DATATYPES = DATASETS.datatypes.noOf(starId, index),\n\t\thtml =\n\t_html('tbody', \n\t\t(function(){ // description & files\n\t\t\tif (classification === undefined) {\n\t\t\t\treturn '';\n\t\t\t} else {\n\t\t\t\tconst\n\t\t\t\t\tnoOfFiles = DATASETS.files.noOf(starId, index),\n\t\t\t\t\tsubHtml2 =\n\t\t\t\t_html('tr', // description\n\t\t\t\t\t_html('td', { colspan: 2 }, _MLHtml( DATASETS.description(starId, index) ))\n\t\t\t\t) +\n\t\t\t\t'<tr>' +\n\t\t\t\t\t`<th rowspan=\"${noOfFiles}\">${_MLHtml( STR.files )}</th>` +\n\t\t\t\t\t(function(){\n\t\t\t\t\t\tlet subHtml3 = '';\n\t\t\t\t\t\tfor (var i = 0; i < noOfFiles; i++) {\n\t\t\t\t\t\t\tsubHtml3 += `${i > 0 ? '<tr>' : ''}<td><p class=\"files\">${_htmlAnchor(DATASETS.files.uri(starId, i, index), DATASETS.files.name(starId, i, index))}<small>${_numeral(DATASETS.files.size(starId, i, index))} bytes</small></p></td></tr>'`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn subHtml3;\n\t\t\t\t\t})();\n\t\t\t\treturn subHtml2;\n\t\t\t}\n\t\t})() +\n\t\t_htmlTRValueNumeral( _MLHtml( STR.subjects ), DATASETS.noOfSubjects(starId, index) ) + // subjects\n\t\t_htmlTRValueNumeral( _MLHtml( STR.objects ), DATASETS.noOfObjects(starId, index) ) + // objects\n\t\t_htmlTRValueNumeral( _MLHtml( STR.literals ), DATASETS.noOfLiterals(starId, index) ) + // literals\n\t\t_htmlTRHasDetailValueNumeral2( // classes / instances\n\t\t\t_MLHtml(STR.classes) + HYPHEN + _MLHtml(STR.instances),\n\t\t\t_numeral(NO_OF_CLASSES) + HYPHEN + _numeral(DATASETS.noOfInstances(starId, index)),\n\t\t\t'classes',\n\t\t\tDATASETS.classes.jsonUri(starId, index),\n\t\t\tclassification,\n\t\t\tindex\n\t\t) +\n\t\t_htmlTRDetail((function(){\n\t\t\tconst subHtml2 =\n\t\t\t\t_html('table', { class: 'internal' },\n\t\t\t\t\t_html('thead',\n\t\t\t\t\t\t_html('tr',\n\t\t\t\t\t\t\t_MLHtml('th', STR.classes) +\n\t\t\t\t\t\t\t_MLHtml('th', STR.numberOfInstances))) +\n\t\t\t\t\t_html('tbody', \n\t\t\t\t\t\t_html('tr', { class: 'loading' },\n\t\t\t\t\t\t\t_html('td', { colspan: 2 }, ''))));\n\t\t\treturn subHtml2;\n\t\t})()) +\n\t\t_htmlTRHasDetailValueNumeral2( // properties / triples\n\t\t\t_MLHtml(STR.properties) + HYPHEN + _MLHtml(STR.triples),\n\t\t\t_numeral(NO_OF_PROPERTIES) + HYPHEN + _numeral(DATASETS.noOfTriples(starId, index)),\n\t\t\t'properties',\n\t\t\tDATASETS.properties.jsonUri(starId, index),\n\t\t\tclassification,\n\t\t\tindex\n\t\t) + \n\t\t_htmlTRDetail((function(){\n\t\t\tconst subHtml2 = \n\t\t\t\t_html('table', { class: 'internal' },\n\t\t\t\t\t_html('thead',\n\t\t\t\t\t\t_html('tr',\n\t\t\t\t\t\t\t_MLHtml('th', STR.properties) +\n\t\t\t\t\t\t\t_MLHtml('th', STR.numberOfTriples))) +\n\t\t\t\t\t_html('tbody', \n\t\t\t\t\t\t_html('tr', { class: 'loading' },\n\t\t\t\t\t\t\t_html('td', { colspan: 2 }, ''))));\n\t\t\treturn subHtml2;\n\t\t})()) +\n\t\t_htmlTRHasDetailValueNumeral( _MLHtml( STR.datatypes ), NO_OF_DATATYPES ) + // datasets\n\t\t_htmlTRDetail((function(){\n\t\t\tconst subHtml2 = \n\t\t\t\t_html('table', { class: 'internal' }, \n\t\t\t\t\t_html('thead',\n\t\t\t\t\t\t_html('tr',\n\t\t\t\t\t\t\t_MLHtml('th', STR.datatypes))) +\n\t\t\t\t\t_html('tbody', (function(){\n\t\t\t\t\t\tlet subHtml3 = '';\n\t\t\t\t\t\tfor (let j = 0; j < NO_OF_DATATYPES; j++) {\n\t\t\t\t\t\t\tconst datatype = DATASETS.datatypes.datatype(starId, j, index);\n\t\t\t\t\t\t\tsubHtml3 +=\n\t\t\t\t\t\t\t_html('tr',\n\t\t\t\t\t\t\t\t_html('td', _htmlAnchor(datatype, datatype)));\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn subHtml3;\n\t\t\t\t\t})())\n\t\t\t\t);\n\t\t\treturn subHtml2;\n\t\t})())\n\t);\n\treturn html;\n};\n\n\n// ソート\nexport const _sort = (kindOfSorting, isAscend) => {\n\tlet i, value, target, mapper = [], functionName, sortedIds = [];\n\tconst ids = __g.app.datasets.ids();\n\t\n\tswitch (kindOfSorting) {\n\t\t\n\t\tcase 'Alphabetical': { // アルファベティカル\n\t\t\tfor (const id of ids) {\n\t\t\t\tvalue = __g.app.datasets.title(id)[__g.app.language];\n\t\t\t\tmapper.push({ id: id, value: value });\n\t\t\t}\n\t\t\tmapper.sort((a, b) => {\n\t\t\t\tif (a.value < b.value) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tbreak;\n\t\t\n\t\tcase 'DataProvider': { // Data provider\n\t\t\tfor (const id of ids) {\n\t\t\t\tvalue = __g.app.datasets.dataProvider(id)[__g.app.language];\n\t\t\t\tmapper.push({ id: id, value: value });\n\t\t\t}\n\t\t\tmapper.sort((a, b) => {\n\t\t\t\tif (a.value < b.value) {\n\t\t\t\t\treturn -1;\n\t\t\t\t} else {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tbreak;\n\t\t\n\t\tcase 'LastUpdate': { // 更新日順\n\t\t\tfor (const id of ids) {\n\t\t\t\tconst date = __g.app.datasets.issued(id).split('-');\n\t\t\t\tvalue = (new Date(date[0], date[1], date[2])).getTime();\n\t\t\t\tmapper.push({ id: id, value: value });\n\t\t\t}\n\t\t\tmapper.sort((a, b) => {\n\t\t\t\treturn b.value - a.value;\n\t\t\t});\n\t\t}\n\t\tbreak;\n\n\t\tdefault: { // その他の数量系のソート\n\t\t\tswitch (kindOfSorting) {\n\t\t\t\tcase 'Classes': functionName = 'noOfClasses'; break;\n\t\t\t\tcase 'Instances': functionName = 'noOfInstances'; break;\n\t\t\t\tcase 'Literals': functionName = 'noOfLiterals'; break;\n\t\t\t\tcase 'Objects': functionName = 'noOfObjects'; break;\n\t\t\t\tcase 'Properties': functionName = 'noOfProperties'; break;\n\t\t\t\tcase 'Subjects': functionName = 'noOfSubjects'; break;\n\t\t\t\tcase 'Triples': functionName = 'noOfTriples'; break;\n\t\t\t\tcase 'Links': functionName = 'noOfLinks'; break;\n\t\t\t}\n\t\t\tif (typeof functionName === 'string') {\n\t\t\t\ttarget = __g.app.datasets[functionName];\n\t\t\t} else {\n\t\t\t\ttarget = __g.app.datasets[functionName[0]][functionName[1]];\n\t\t\t}\n\t\t\tfor (const id of ids) {\n\t\t\t\tmapper.push({ id: id, value: target(id) });\n\t\t\t}\n\t\t\tmapper.sort((a, b) => {\n\t\t\t\treturn b.value - a.value;\n\t\t\t});\n\t\t}\n\t\tbreak;\n\n\t}\n\t// 昇順降順\n\tif (isAscend) {\n\t\tfor (i = 0; i < mapper.length; i++) {\n\t\t\tsortedIds.push(mapper[i].id);\n\t\t}\n\t} else {\n\t\tfor (i = mapper.length - 1; i >= 0; i--) {\n\t\t\tsortedIds.push(mapper[i].id);\n\t\t}\n\t}\n\n\treturn sortedIds;\n}; // function sort\n\n// その他の汎用関数\nexport const _sanitizeTag = tag => tag.replace(/\\W+/g, '_');\n\nexport const _placeComma = elm => {\n\t$(elm).find('span.numeral').each(function(){\n\t\tthis.textContent = this.textContent.replace( /(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,');\n\t\tthis.classList.remove('numeral');\n\t\tthis.classList.add('numeral-comma');\n\t});\n};\nexport const _capitalize = str => str.charAt(0).toUpperCase() + str.slice(1);\n\n","/*global $ */\n\nimport {__g} from './global.js';\nconst\n\t_CORN = {\n\t\tNUMBER_OF_LINE: 2,\n\t\tORIGIN: {\n\t\t\tX: 610 + 115,\n\t\t\tY: 1210\n\t\t},\n\t\tELLIPSE: {\n\t\t\tPOSITIONS: [ 293, 558, 876 ],\n\t\t\tRATIO: 0.1131,\n\t\t\tRESOLUTION: 64\n\t\t},\n\t\tRADIUS: 532\n\t},\n\tSHOW_DURATION = 900;\n\n/* Home view manager class\n * ホームビュー管理クラス\n * \n */\nexport default class HomeViewController {\n\n\tconstructor() {\n\t\tthis._isInitialized = false;\n\t\tthis._d3Corn;\n\t\tthis.$view = $('#home-view');\n\t}\n\n\tshow() {\n\t\tvar i, j, y, radian1, radian2, radian3, radius;\n\n\t\t// corn\n\t\tif (!this._isInitialized) {\n\t\t\tthis._isInitialized = true;\n\t\t\tthis._d3Corn = __g.d3.svg.append('g').attr('class', 'corn');\n\n\t\t\t// line\n\t\t\tradian1 = (2 * Math.PI) / _CORN.NUMBER_OF_LINE;\n\t\t\tfor (i = 0; i < _CORN.NUMBER_OF_LINE; i++) {\n\t\t\t\tradian2 = radian1 * i;\n\t\t\t\tthis._d3Corn.append('line')\n\t\t\t\t\t.attr('x1', _CORN.ORIGIN.X)\n\t\t\t\t\t.attr('y1', _CORN.ORIGIN.Y)\n\t\t\t\t\t.attr('x2', _CORN.ORIGIN.X + _CORN.RADIUS * Math.cos(radian2))\n\t\t\t\t\t.attr('y2', 0)\n\t\t\t\t\t.attr('stroke', 'rgba(255, 255, 255, ' + ((Math.sin(radian2 + Math.PI) + 1) * 0.25) + ')');\n\t\t\t}\n\n\t\t\t// ellipse\n\t\t\tradian1 = (2 * Math.PI) / _CORN.ELLIPSE.RESOLUTION;\n\t\t\tfor (i = 0; i < _CORN.ELLIPSE.POSITIONS.length; i++) {\n\t\t\t\ty = _CORN.ELLIPSE.POSITIONS[i];\n\t\t\t\tradius = (y / _CORN.ORIGIN.Y) * _CORN.RADIUS;\n\t\t\t\tfor (j = 0; j < _CORN.ELLIPSE.RESOLUTION; j++) {\n\t\t\t\t\tradian2 = radian1 * j;\n\t\t\t\t\tradian3 = radian2 + radian1;\n\t\t\t\t\tthis._d3Corn.append('line')\n\t\t\t\t\t\t.attr('x1', _CORN.ORIGIN.X + Math.cos(radian2) * radius)\n\t\t\t\t\t\t.attr('y1', _CORN.ORIGIN.Y - y + Math.sin(radian2) * radius * _CORN.ELLIPSE.RATIO)\n\t\t\t\t\t\t.attr('x2', _CORN.ORIGIN.X + Math.cos(radian3) * radius)\n\t\t\t\t\t\t.attr('y2', _CORN.ORIGIN.Y - y + Math.sin(radian3) * radius * _CORN.ELLIPSE.RATIO)\n\t\t\t\t\t\t.attr('stroke', 'rgba(255, 255, 255, ' + ( 0.1 + (Math.sin((radian2 + radian3) * 0.5) + 1) * 0.25 ) + ')');\n\t\t\t\t\t\t//.attr('stroke', '#fff');\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$view.find('.node').on('click', function(){\n\t\t\t\t$('#' + this.getAttribute('data-target')).trigger('click');\n\t\t\t});\n\n\t\t\t// statistics\n\t\t\tlet html = '';\n\t\t\t// Datasets\n\t\t\thtml += `<p>${__g.app.datasets.ids().length}<span>RDF datasets</span></p>`;\n\t\t\tconst\n\t\t\t\tstatisticsItems = {\n\t\t\t\t\tnoOfLinks: 0,\n\t\t\t\t\tnoOfTriples: 0\n\t\t\t\t},\n\t\t\t\tids = __g.app.datasets.ids();\n\t\t\tfor (const id of ids) {\n\t\t\t\tfor (const item in statisticsItems) {\n\t\t\t\t\tstatisticsItems[item] += __g.app.datasets[item](id);\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const item in statisticsItems) {\n\t\t\t\tconst\n\t\t\t\t\tsampleString = statisticsItems[item] + '',\n\t\t\t\t\tfigure = Math.ceil(sampleString.length / 3);\n\n\t\t\t\tlet processedNumber;\n\t\t\t\tswitch (true) {\n\t\t\t\t\tcase figure === 3:\n\t\t\t\t\tprocessedNumber = Math.round( statisticsItems[item] * 0.000001 ) + '<span> million @@unit@@</span>';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase figure === 4:\n\t\t\t\t\tprocessedNumber = Math.round( statisticsItems[item] * 0.000000001 ) + '<span> billion @@unit@@</span>';\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase figure === 5:\n\t\t\t\t\tprocessedNumber = Math.round( statisticsItems[item] * 0.000000000001 ) + '<span> trillion @@unit@@</span>';\n\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\tprocessedNumber = roundedString.toLocaleString();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\thtml += `<p>${processedNumber.replace('@@unit@@', { noOfTriples: 'triples', noOfLinks: 'inter-datasets links' }[item])}</p>`;\n\t\t\t}\n\t\t\t$('#home-statistics').append(html);\n\t\t}\n\t\t\n\t\t// force\n\t\t__g.d3.force\n\t\t\t//.gravity(0.001)\n\t\t\t.on('tick', function() {\n\t\t\t\t__g.d3.linksSelection\n\t\t\t\t\t.attr('x1', function(d) { return d.source.x; })\n\t\t\t\t\t.attr('y1', function(d) { return d.source.y; })\n\t\t\t\t\t.attr('x2', function(d) { return d.target.x; })\n\t\t\t\t\t.attr('y2', function(d) { return d.target.y; });\n\t\t\t\t__g.d3.nodesSelection\n\t\t\t\t\t.style('left', function(d) { return (d.x + __g.SVG_MARGIN_LEFT) + 'px'; })\n\t\t\t\t\t.style('top', function(d) { return d.y + 'px'; });\n\t\t\t\t})\n\t\t\t.stop();\n\n\t\t// shown\n\t\twindow.setTimeout(function(){\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('home'), this.$view.innerHeight());\n\t\t}.bind(this), SHOW_DURATION);\n\t}\n\n\thide() {\n\t\t//window.clearInterval(_timerId);\n\t\t__g.d3.force\n\t\t\t.stop()\n\t\t\t.on('tick', null);\n\t}\n} // ********** end of HomeViewController class\n","/* global $ */\n\nimport {$w, __g, _sort, _placeComma} from './global.js';\nconst\n\tSHOW_DURATION = 100,\n\tORIGIN = {\n\t\tX: 339,\n\t\tY: 27\n\t};\n\n/* List view manager class\n * リストビュー管理クラス\n * \n */\nexport default class ListViewController {\n\n\tconstructor() {\n\t\tthis._placedStarCoutner;\n\t\tthis.$stars = undefined;\n\t}\n\n\tshow() {\n\t\twindow.setTimeout(() => {\n\t\t\tthis.makeList();\n\t\t}, SHOW_DURATION);\n\t}\n\n\tmakeList() {\n\t\tvar sortedIds;\n\n\t\t// イベントのバインド\n\t\t__g.app.addNotificationObserver('change-sorting', this, this.receiveNotificationChangeSorting);\n\t\t__g.app.addNotificationObserver('change-provided-as', this, this.receiveNotificationChangeFilter);\n\t\t__g.app.addNotificationObserver('change-filtering-tags', this, this.receiveNotificationChangeFilter);\n\n\t\t// ソート\n\t\tsortedIds = _sort(\n\t\t\t__g.controlPanel.kindOfSorting(), \n\t\t\t__g.controlPanel.isAscend()\n\t\t);\n\n\t\t// サイズ種別を取得し各ノードに通知、レイアウトを行う\n\t\tthis.placeStars(sortedIds);\n\n\t\t// ウインドウリサイズで星の矩形のリサイズ\n\t\tif (!this.$stars) {\n\t\t\tthis.$stars = $('.star', __g.app.$main).not('.xref');\n\t\t}\n\t\t$w\n\t\t\t.on('resize.listView', () => {\n\t\t\t\tthis.$stars.css('width', __g.app.$main.width() - ORIGIN.X - 20);\n\t\t\t})\n\t\t\t.triggerHandler('resize.listView');\n\t}\n\n\t// 星の位置取りを行う\n\tplaceStars(sortedIds){\n\t\tvar i, top = ORIGIN.Y, height;\n\t\tthis._placedStarCoutner = 0;\n\t\t// 各ノードに通知\n\t\tfor (i = 0; i < sortedIds.length; i++) {\n\t\t\theight = __g.app.starsWithKeys[sortedIds[i]].prepareListView(this._placedStarCoutner, top, this);\n\t\t\tif (height !== 0) {\n\t\t\t\ttop += height;\n\t\t\t\tthis._placedStarCoutner++;\n\t\t\t}\n\t\t}\n\t\t_placeComma(__g.app.$main.find('.detail-view'));\n\t} // function placeStars\n\n\tplacedStar() {\n\t\tif (--this._placedStarCoutner === 0) {\n\t\t\t// 遷移終了\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('datasets'));\n\t\t}\n\t}\n\n\thide() {\n\t\t__g.app.$main.find().remove();\n\t\t$w.off('resize.listView');\n\t\tthis.$stars.css('width', '');\n\t\t__g.app.removeNotificationObserver('change-sorting', this);\n\t\t__g.app.removeNotificationObserver('change-scaling', this);\n\t\tfor (var i = 0; i < __g.app.stars.length; i++) {\n\t\t\t__g.app.stars[i].prepareLeaveFromListView();\n\t\t}\n\t}\n\n\t// ソート種別の変更が行われたときに呼ばれる関数\n\treceiveNotificationChangeSorting(){\n\t\tvar sortedIds = _sort(\n\t\t\t__g.controlPanel.kindOfSorting(), \n\t\t\t__g.controlPanel.isAscend()\n\t\t);\n\t\tthis.placeStars(sortedIds);\n\t} // function receiveNotificationChangeSorting\n\treceiveNotificationChangeFilter(){\n\t\tvar sortedIds = _sort(\n\t\t\t__g.controlPanel.kindOfSorting(), \n\t\t\t__g.controlPanel.isAscend()\n\t\t);\n\t\tthis.placeStars(sortedIds);\n\t} // function receiveNotificationChangeFilter\n\n  static get ORIGIN() {\n    return ORIGIN;\n  }\n\n} // ********** end of ListViewController class\n","import {_html, _MLHtml, _numeral} from './global.js';\nimport {ORIGIN, CELL} from './MatrixViewController.js';\n\n/* Matrix item view manager class\n * マトリックスビューの各項ビュー\n * \n */\nexport default class MatrixItemView {\n\n\tconstructor(colItem, order, delegate) {\n\n\t\tswitch(colItem.name) {\n\n\t\t\tcase 'Alphabetical':\n\t\t\t\t// make cells\n\t\t\t\tdelegate._$matrix.append(\n\t\t\t\t\t_html(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{\tclass: 'cell item-' + colItem.name,\n\t\t\t\t\t\t\t'data-sort': colItem.name,\n\t\t\t\t\t\t\t'data-ascend': colItem.isAscend ? 'ascend' : 'descend' },\n\t\t\t\t\t\t_MLHtml(delegate.STR.name) + '<div class=\"sorter\"></div>'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tbreak;\n\n\t\t\tcase 'Triples':\n\t\t\tcase 'Links':\n\t\t\tcase 'Classes':\n\t\t\tcase 'Instances':\n\t\t\tcase 'Literals':\n\t\t\tcase 'Subjects':\n\t\t\tcase 'Properties':\n\t\t\tcase 'Objects':{\n\t\t\t\t// make cells\n\t\t\t\tdelegate._$head.append(\n\t\t\t\t\t_html(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{\tclass: 'cell item-' + colItem.name,\n\t\t\t\t\t\t\t'data-sort': colItem.name,\n\t\t\t\t\t\t\t'data-ascend': colItem.isAscend ? 'ascend' : 'descend' },\n\t\t\t\t\t\t_MLHtml(delegate.STR['numberOf' + colItem.name]) + '<div class=\"sorter\"></div>'\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tdelegate._$body.append((() => {\n\t\t\t\t\tlet html = '',\n\t\t\t\t\t\t\tsum = 0;\n\t\t\t\t\tfor (let i = 0; i < delegate._sortedIds.length; i++) {\n\t\t\t\t\t\tconst value = delegate.datasets[ 'noOf' + colItem.name ]( delegate._sortedIds[i] );\n\t\t\t\t\t\tsum += value;\n\t\t\t\t\t\thtml += _html(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{\tclass: `cell item-${colItem.name} id-${delegate._sortedIds[i]}`,\n\t\t\t\t\t\t\t\t'data-sort': colItem.name,\n\t\t\t\t\t\t\t\t'data-id': delegate._sortedIds[i] },\n\t\t\t\t\t\t\t_numeral(value)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\thtml += _html(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{\tclass: `cell item-${colItem.name} id-sum`,\n\t\t\t\t\t\t\t'data-sort': colItem.name,\n\t\t\t\t\t\t\t'data-id': 'sum' },\n\t\t\t\t\t\t_numeral(sum)\n\t\t\t\t\t);\n\t\t\t\t\t// line\n\t\t\t\t\treturn html;\n\t\t\t\t})());\n\t\t\t\t// layout\n\t\t\t\tconst left = ORIGIN.X + CELL.WIDTH * (order - 1);\n\t\t\t\tdelegate._$head.find('.item-' + colItem.name).css('left', left);\n\t\t\t\tdelegate._$body.find('.item-' + colItem.name).css('left', left);\n\t\t\t}\n\t\t\tbreak;\n\n\t\t}\n\t}\n\n} // ********** end of MatrixItemView class\n","import {$w} from './global.js';\n\n/* Matrix item view manager class\n * マトリックスビューの各項ビュー\n * \n */\nexport default class MatrixScrollbarView {\n\n\tconstructor(delegate) {\n\t\tthis._delegate = delegate;\n\t\tthis._matrixWidth;\n\t\tthis._widthRatio;\n\t\tthis._scrollBarWidth;\n\t\tthis._delegate._$matrix.append('<div id=\"matrix-scroll-area\"></div><div id=\"matrix-scroll-bar\"></div>');\n\t\tthis._$scrollArea = this._delegate._$matrix.children('#matrix-scroll-area');\n\t\tthis._$scrollBar = this._delegate._$matrix.children('#matrix-scroll-bar');\n\t\tthis._$scrollBar.draggable({\n\t\t\taxis: 'x',\n\t\t\tcontainment: this._$scrollArea,\n\t\t\tdrag: (event, obj) => {\n\t\t\t\tvar left = obj.position.left - this._delegate._$inner.offset().left,\n\t\t\t\t\t\trange = this._matrixWidth - this._scrollBarWidth;\n\t\t\t\tthis._delegate._$inner.scrollLeft((this._delegate._matrixOverallWidth - this._matrixWidth) * (left / range));\n\t\t\t}\n\t\t});\n\t}\n\n\tenable() {\n\t\t// events\n\t\t$w\n\t\t\t.on({ // 領域定義\n\t\t\t\t'resize.matrix': () => {\n\t\t\t\t\tvar innerWidth = $w.innerWidth(),\n\t\t\t\t\t\t\tmatrixHeight = $w.innerHeight() - this._delegate._$matrix.offset().top;\n\t\t\t\t\tthis._matrixWidth = innerWidth - this._delegate._$matrix.offset().left;\n\t\t\t\t\tthis._widthRatio = this._matrixWidth / this._delegate._matrixOverallWidth;\n\t\t\t\t\tthis._scrollBarWidth = this._matrixWidth * this._widthRatio;\n\t\t\t\t\tthis._delegate._$matrix.css({\n\t\t\t\t\t\twidth: this._matrixWidth,\n\t\t\t\t\t\theight: matrixHeight > this._delegate._matrixOverallHeight ? matrixHeight : this._delegate._matrixOverallHeight\n\t\t\t\t\t});\n\t\t\t\t\tif (this._matrixWidth < this._delegate._matrixOverallWidth) {\n\t\t\t\t\t\tthis._$scrollArea.css({\n\t\t\t\t\t\t\twidth: this._matrixWidth,\n\t\t\t\t\t\t\theight: matrixHeight\n\t\t\t\t\t\t});\n\t\t\t\t\t\tthis._$scrollBar.css({\n\t\t\t\t\t\t\twidth: this._scrollBarWidth,\n\t\t\t\t\t\t\tbottom: 42,\n\t\t\t\t\t\t\ttop: 'auto',\n\t\t\t\t\t\t\tdisplay: 'block'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis._$scrollBar.css({\n\t\t\t\t\t\t\tdisplay: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.trigger('resize.matrix');\n\t\tthis._delegate._$inner\n\t\t\t.on({\n\t\t\t\t'scroll.matrix': () => {\n\t\t\t\t\tthis._$scrollBar.css({\n\t\t\t\t\t\tleft: this._delegate._$inner.offset().left + this._delegate._$inner.scrollLeft() * this._widthRatio\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.trigger('scroll.matrix');\n\t\tthis._$scrollBar.draggable('enable');\n\t}\n\n\tdisable() {\n\t\tthis._delegate._$inner.off('scroll.matrix');\n\t\t$w.off('resize.matrix');\n\t\tthis._$scrollBar.draggable('disable');\n\t}\t\n\n\n} // ********** end of MatrixScrollbarView class\n","/* global $ */\n\nimport {__g, _placeComma, _sort} from './global.js';\nimport MatrixItemView from './MatrixItemView.js';\nimport MatrixScrollbarView from './MatrixScrollbarView.js';\n\nexport const\n\tORIGIN = {\n\t\tX: 0,\n\t\tY: 127\n\t},\n\tCELL = {\n\t\tWIDTH: 120,\n\t\tHEIGHT: 32\n\t},\n\tPADDING_BOTTOM = 60,\n\tPADDING_RIGHT = 60;\n\n/* Matrix view manager class\n * マトリックスビュー管理クラス\n * \n */\nexport default class MatrixViewController {\n\n\tconstructor() {\n\t\t//var self = this;\n\t\tthis.STR = __g.STRINGS;\n\t\tthis.datasets = __g.app.datasets;\n\t\tthis._isInitialized = false;\n\t\tthis._sortBy;\n\t\tthis._sortedColItems;\n\t\tthis._sortedIds;\n\t\t//this._itemKeys;\n\t\tthis._scrollBar;\n\t\tthis._matrixOverallWidth = 0;\n\t\tthis._matrixOverallHeight;\n\t\tthis._placedStarCoutner;\n\t\tthis._$matrix;\n\t\tthis._$inner;\n\t\tthis._$head;\n\t\tthis._$colItems;\n\t\tthis._$body;\n\t}\n\n\n\tshow() {\n\t\tif (!this._isInitialized) {\n\t\t\tthis._isInitialized = true;\n\t\t\tthis._sortedColItems = [];\n\t\t\t//this._itemKeys = {};\n\n\t\t\t// ソート\n\t\t\tthis._sortBy = __g.userDefaults.matrix.sortBy;\n\t\t\tthis._sortedIds = _sort(this._sortBy, true);\n\n\t\t\t// キーのソート\n\t\t\tthis._sortedColItems = __g.userDefaults.matrix.colItems;\n\n\t\t\t// 表組みの作成\n\t\t\tthis.makeMatrix();\n\t\t\t\n\t\t\t// scroll bar\n\t\t\tthis._scrollBar = new MatrixScrollbarView(this);\n\t\t}\n\n\t\t// event\n\t\t__g.app.$star.on({\n\t\t\t'mouseenter.matrix': e => {\n\t\t\t\tthis._$body.children('.id-' + e.delegateTarget.getAttribute('data-id')).addClass('row-selected');\n\t\t\t},\n\t\t\t'mouseleave.matrix': e => {\n\t\t\t\tthis._$body.children('.id-' + e.delegateTarget.getAttribute('data-id')).removeClass('row-selected');\n\t\t\t}\n\t\t});\n\n\t\t// ノードに通知\n\t\tthis._placedStarCoutner = 0;\n\t\tfor (let i = 0; i < this._sortedIds.length; i++) {\n\t\t\tconst id = this._sortedIds[i];\n\t\t\t__g.app.starsWithKeys[id].prepareMatrixView(i, this);\n\t\t\tthis._placedStarCoutner++;\n\t\t}\n\t}\n\n\tmakeMatrix() {\n\t\tvar i, html = '',\n\t\t\t\tids = this.datasets.ids();\n\t\t// html\n\t\thtml += `\n\t\t\t<div id=\"matrix\">\n\t\t\t\t<div class=\"inner\">\n\t\t\t\t\t<header></header>\n\t\t\t\t\t<div id=\"matrix-body\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t\t__g.app.$main.append(html);\n\t\tthis._matrixOverallHeight = ORIGIN.Y + ids.length * CELL.HEIGHT + PADDING_BOTTOM;\n\t\tthis._$matrix = $('#matrix').css('height', this._matrixOverallHeight);\n\t\tthis._$inner = this._$matrix.children('.inner');\n\t\tthis._$head = this._$inner.children('header');\n\t\tthis._$body = $('#matrix-body');\n\n\t\t// セルオブジェクト生成\n\t\tfor (i = 0; i < this._sortedColItems.length; i++) {\n\t\t\t//this._itemKeys[this._sortedColItems[i]] = new MatrixItemView(this._sortedColItems[i], i, this);\n\t\t\tnew MatrixItemView(this._sortedColItems[i], i, this);\n\t\t\tthis._matrixOverallWidth += CELL.WIDTH;\n\t\t}\n\t\tthis._matrixOverallWidth -= CELL.WIDTH; // aphabetical分をデクリメント\n\t\tthis._$colItems = this._$matrix.find('div.cell.item-Alphabetical, div.inner header div.cell');\n\t\t// 合計値\n\t\tconst height = ORIGIN.Y + ids.length * CELL.HEIGHT;\n\t\tthis._$body.find('.id-sum').css('top', height);\n\t\t// padding\n\t\tthis._$inner.append(`\n\t\t\t<div id=\"matrix-right\" style=\"left: ${ORIGIN.X + this._matrixOverallWidth}px;\"></div>\n\t\t`);\n\t\tthis._$matrix.append(`\n\t\t\t<div class=\"matrix-sum\" style=\"top: ${height}px;\">\n\t\t\t\t<p lang=\"ja\">合計</p>\n\t\t\t\t<p lang=\"en\">Total</p>\n\t\t\t</div>\n\t\t\t<div id=\"matrix-bottom\" style=\"top: ${height + CELL.HEIGHT}px; width: ${this._matrixOverallWidth + PADDING_RIGHT}px;\"></div>\n\t\t`);\n\t\tthis._matrixOverallWidth += PADDING_RIGHT;\n\n\t\t// comma\n\t\t_placeComma(this._$body);\n\n\t\t// events\n\t\t// sort\n\t\tthis._$colItems.filter(`[data-sort=\"${this._sortBy}\"]`).addClass('selected');\n\t\tthis._$colItems.on('click', (e) => {\n\t\t\tlet $cell;\n\t\t\tif (e.delegateTarget.classList.contains('selected')) {\n\t\t\t\t$cell = this._$colItems.filter(`[data-sort=\"${this._sortBy}\"]`);\n\t\t\t\t$cell.data('ascend', $cell.data('ascend') === 'ascend' ? 'descend' : 'ascend');\n\t\t\t} else {\n\t\t\t\t// 現在選択中のセルを解除\n\t\t\t\tthis._$colItems.filter(`[data-sort=\"${this._sortBy}\"]`).removeClass('selected');\n\t\t\t\t// セルの選択\n\t\t\t\tthis._sortBy = e.delegateTarget.getAttribute('data-sort');\n\t\t\t\t$cell = this._$colItems.filter(`[data-sort=\"${this._sortBy}\"]`).addClass('selected');\n\t\t\t}\n\t\t\t// ソートの実行\n\t\t\tthis.sort($cell.data('sort'), $cell.data('ascend') === 'ascend');\n\t\t});\n\t\t// cell hover\n\t\tthis._$body.children('div.cell').on({ // body cell\n\t\t\tmouseenter: (e) => {\n\t\t\t\tconst\n\t\t\t\t\tsort = e.delegateTarget.dataset.sort,\n\t\t\t\t\tid = e.delegateTarget.dataset.id;\n\t\t\t\tthis._$body.children(`.item-${sort}`).addClass('col-selected');\n\t\t\t\tthis._$head.children(`.item-${sort}`).addClass('col-selected');\n\t\t\t\tthis._$body.children(`.id-${id}`).addClass('row-selected');\n\t\t\t\t__g.app.$star.filter(`[data-id=\"${e.delegateTarget.getAttribute('data-id')}\"]`).addClass('row-selected');\n\t\t\t},\n\t\t\tmouseleave: (e) => {\n\t\t\t\tconst\n\t\t\t\t\tsort = e.delegateTarget.dataset.sort,\n\t\t\t\t\tid = e.delegateTarget.dataset.id;\n\t\t\t\tthis._$body.children(`.item-${sort}`).removeClass('col-selected');\n\t\t\t\tthis._$head.children(`.item-${sort}`).removeClass('col-selected');\n\t\t\t\tthis._$body.children(`.id-${id}`).removeClass('row-selected');\n\t\t\t\t__g.app.$star.filter(`[data-id=\"${e.delegateTarget.getAttribute('data-id')}\"]`).removeClass('row-selected');\n\t\t\t}\n\t\t});\n\t\tthis._$head.children('div.cell').on({ // header cell\n\t\t\tmouseenter: (e) => {\n\t\t\t\tthis._$body.children('.item-' + e.delegateTarget.getAttribute('data-sort')).addClass('col-selected');\n\t\t\t},\n\t\t\tmouseleave: (e) => {\n\t\t\t\tthis._$body.children('.item-' + e.delegateTarget.getAttribute('data-sort')).removeClass('col-selected');\n\t\t\t}\n\t\t});\n\t\tthis._$matrix.find('div.item-Alphabetical').on({\n\t\t\tmouseenter: () => {\n\t\t\t\t__g.app.$star.addClass('row-selected');\n\t\t\t},\n\t\t\tmouseleave: () => {\n\t\t\t\t__g.app.$star.removeClass('row-selected');\n\t\t\t}\n\t\t});\n\t\t// alphabetical\n\t}\n\n\tplacedStar() {\n\t\tif (--this._placedStarCoutner === 0) {\n\t\t\t// 遷移終了\n\t\t\tthis._$matrix.addClass('placed');\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('statistics'));\n\n\t\t\t// scroll bar\n\t\t\tthis._scrollBar.enable();\n\t\t}\n\t}\n\n\tsort(itemName, isAscend) {\n\t\tthis._sortBy = itemName;\n\t\tthis._sortedIds = _sort(this._sortBy, isAscend);\n\t\tfor (let i = 0; i < this._sortedIds.length; i++) {\n\t\t\tconst id = this._sortedIds[i];\n\t\t\t__g.app.starsWithKeys[id].matrixReplace(i);\n\t\t}\n\t\t// userDefaults\n\t\tthis._sortedColItems.forEach(item => {\n\t\t\tif (item.name === itemName) {\n\t\t\t\titem.isAscend = isAscend;\n\t\t\t}\n\t\t});\n\t\t__g.userDefaults.matrix.sortBy = this._sortBy;\n\t\t__g.userDefaults.matrix.colItems = this._sortedColItems;\n\t}\n\n\thide() {\n\t\tthis._scrollBar.disable();\n\t\t__g.app.$stars.children('.star').removeClass('row-selected');\n\t\t__g.app.$star.off('mouseenter.matrix mouseleave.matrix');\n\t\t//this._scrollBar = null;\n\t}\n\n  static get ORIGIN() {\n    return ORIGIN;\n  }\n  static get CELL() {\n    return CELL;\n  }\n\n} // ********** end of MatrixViewController class\n","/* global d3 */\n\nimport {$w, __g} from './global.js';\n\n/* Graph view manager class\n * グラフビュー管理クラス\n * \n */\nexport default class GraphViewController {\n\n\tconstructor() {\n\t}\n\n\tshow() {\n\t\tthis.receiveNotificationChangeSizing();\n\t\t// tick\n\t\t__g.d3.force\n\t\t\t.on('tick', () => {\n\t\t\t\t__g.d3.linksSelection\n\t\t\t\t\t.attr('x1', d => d.source.x)\n\t\t\t\t\t.attr('y1', d => d.source.y)\n\t\t\t\t\t.attr('x2', d => d.target.x)\n\t\t\t\t\t.attr('y2', d => d.target.y);\n\t\t\t\t__g.d3.nodesSelection\n\t\t\t\t\t.style('left', d => (d.x + __g.SVG_MARGIN_LEFT) + 'px')\n\t\t\t\t\t.style('top', d => d.y + 'px');\n\t\t\t\t__g.d3.linksSelection.each(function(){ // number of triples\n\t\t\t\t\tthis.d3NumberOfTriples\n\t\t\t\t\t\t.attr('x', (parseFloat(this.getAttribute('x1')) + parseFloat(this.getAttribute('x2'))) * 0.5)\n\t\t\t\t\t\t.attr('y', (parseFloat(this.getAttribute('y1')) + parseFloat(this.getAttribute('y2'))) * 0.5 + 3);\n\t\t\t\t});\n\t\t\t})\n\t\t\t.restart();\n\t\t$w.trigger('resize.mainViewControl');\n\n\t\t// イベントのバインド\n\t\t__g.app.addNotificationObserver('change-scaling', this, this.receiveNotificationChangeSizing);\n\t\t\n\t\t__g.app.stars.forEach(function(star){\n\t\t\tstar.prepareGraphView();\n\t\t});\n\n\t\t// 遷移終了\t\n\t\twindow.setTimeout(function(){\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('network'));\n\t\t}, 100);\n\t}\n\n\thide() {\n\t\t__g.d3.force\n\t\t\t.stop()\n\t\t\t.on('tick', null);\n\t\t__g.app.removeNotificationObserver('change-scaling', this);\n\t\t__g.app.stars.forEach(star => {\n\t\t\tstar.prepareLeaveFromGraphView();\n\t\t});\n\t}\n\n\treceiveNotificationChangeSizing(){\n\t\t__g.app.stars.forEach(function(star){\n\t\t\tstar.prepareGraphView();\n\t\t});\n\t\t__g.d3.force\n\t\t\t\t.force('collide', // ノード間の接触反発力\n\t\t\t\t\td3.forceCollide()\n\t\t\t\t\t\t.radius(function(d) { return d.star.size * .5 + 20; }) // ノード半径\n\t\t\t\t\t\t.strength(1.0) // オーバーラップするノード間の反発力 0.0〜1.0\n\t\t\t\t\t\t.iterations(16) // 計算回数\n\t\t\t\t)\n\t\t\t\t.restart();\n\t} // function receiveNotificationChangeSizing\n\t\n} // ********** end of GraphViewController class\n","/* global $, marked, CodeMirror */\n\nimport {__g} from './global.js';\n\nconst PATH = './documents/';\n\n/* Manual view manager class\n * マニュアルビュー管理クラス\n * \n */\nexport default class ManualViewController {\n\n\tconstructor() {\n\t\tthis.$view = $('#manual-view');\n\t}\n\n\tshow(params) {\n\t\tconst documentName = params ? params.id : 'top';\n\t\t$.when( // Documents の内容が記述されたMarkDownファイルの読み込み\n\t\t\t$.ajax({\n\t\t\t\turl: `${PATH}${documentName}.en.md`,\n\t\t\t\tdataType: 'text'\n\t\t\t}),\n\t\t\t$.ajax({\n\t\t\t\turl: `${PATH}${documentName}.ja.md`,\n\t\t\t\tdataType: 'text'\n\t\t\t})\n\t\t).done((en, ja) => {\n\t\t\tconst contents = { en: en[0], ja: ja[0] };\n\t\t\tfor (const lang in contents) {\n\t\t\t\t// 各言語ごとの処理\n\t\t\t\tconst\n\t\t\t\t\tcontent = contents[lang],\n\t\t\t\t\thtmlText = marked(content)\n\t\t\t\t\t\t.replace(/<pre><code>/g, '<textarea>')\n\t\t\t\t\t\t.replace(/<\\/code><\\/pre>/g, '</textarea>'),\n\t\t\t\t\thtmlElements = $.parseHTML(htmlText),\n\t\t\t\t\t$container = this.$view.find(`.seciton-body[lang=\"${lang}\"]`);\n\t\t\t\t$container.html('');\n\t\t\t\tlet\n\t\t\t\t\tsection = document.createElement('section');\n\t\t\t\t// HTMLElement を回してレンダリング\n\t\t\t\t$(htmlElements).each((index, elm) => {\n\t\t\t\t\tif (elm.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\tif (0 < index && elm.tagName === 'H2') {\n\t\t\t\t\t\t\t// HTMLElement が大見出しの場合、パラグラフを切る\n\t\t\t\t\t\t\t$container.append(section);\n\t\t\t\t\t\t\tsection = document.createElement('section');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsection.appendChild(elm);\n\t\t\t\t\t}\n\t\t\t\t\t$container.append(section);\n\t\t\t\t});\n\t\t\t}\n\t\t\t// リンク\n\t\t\tthis.$view.find('.documents-index a').each((index, elm) => {\n\t\t\t\telm.href = `${__g.rootPath}documents/${elm.getAttribute('href')}`;\n\t\t\t})\n\t\t\t// CodeMirror\n\t\t\tthis.$view.find('textarea').each((index, elm) => {\n\t\t\t\tCodeMirror.fromTextArea(elm, {\n\t\t\t\t\tmode: 'application/sparql-query',\n\t\t\t\t\tmatchBrackets: true,\n\t\t\t\t\tlineNumbers: true\n\t\t\t\t});\n\t\t\t});\n\t\t\twindow.setTimeout(function(){\n\t\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('documents'));\n\t\t\t}, self.SHOW_DURATION);\n\t\t});\n\n\t\tthis.$view.addClass('shown');\n\t}\n\n\thide() {\n\t\tthis.$view.removeClass('shown');\n\t}\n\n} // ********** end of ManualViewController class\n","/* global $ */\nimport {__g} from './global.js';\n\n/* Guideline view manager class\n * ガイドラインビュー管理クラス\n * \n */\nexport default class GuidelineViewController {\n\n\tconstructor() {\n\n\t}\n\n\tshow() {\n\t\t$('#guideline-view').addClass('shown');\n\t\twindow.setTimeout(function(){\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('guideline'));\n\t\t}, self.SHOW_DURATION);\n\t}\n\thide() {\n\t\t$('#guideline-view').removeClass('shown');\n\t}\n\n} // ********** end of GuidelineViewController class\n","/* global $ */\n\nimport {__g} from './global.js';\n\nconst MAX = 5;\n\n/* Change log view manager class\n * 更新履歴ビュー管理クラス\n * \n */\nexport default class ChangeLogViewController {\n\n\tconstructor() {\n\t\tthis._isInitialized = false;\n\t\tthis._$ = $('#changelog-view');\n\n\t\t$.getJSON(__g.rootPath + 'change-log.json', (logJson) => {\n\t\t\tconst $homeChangeLogH2 = $('#home-change-log > h2');\n\t\t\tlet html = '';\n\t\t\tthis._changeLog = logJson.change_log;\n\t\t\tfor (let i = 0; i < Math.min(this._changeLog.length, MAX); i++) {\n\t\t\t\tconst log = this._changeLog[i];\n\t\t\t\thtml += `\n\t\t\t\t\t<dl data-index=\"${i}\">\n\t\t\t\t\t\t<dt>${log.date}</dt>\n\t\t\t\t\t\t<dd>\n\t\t\t\t\t\t\t<span lang=\"en\">${log.title.en}</span>\n\t\t\t\t\t\t\t<span lang=\"ja\">${log.title.ja}</span>\n\t\t\t\t\t\t</dd>\n\t\t\t\t\t</dl>`;\n\t\t\t}\n\t\t\t$homeChangeLogH2.after(html);\n\t\t\t$('#home-change-log dl').on('click', (e) => {\n\t\t\t\t__g.app.changeView(__g.VIEWS.changeLog, { index: e.delegateTarget.dataset.index });\n\t\t\t});\n\t\t});\n\t}\n\n\tshow(params) {\n\t\tthis._$.addClass('shown');\n\t\twindow.setTimeout(function(){\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('changeLog'));\n\t\t}, 0);\n\t\tif (!this._isInitialized) {\n\t\t\tthis._isInitialized = true;\n\t\t\t// rendering\n\t\t\tlet html = '';\n\t\t\tfor (let i = 0; i < this._changeLog.length; i++) {\n\t\t\t\tconst log = this._changeLog[i];\n\t\t\t\thtml += `\n\t\t\t\t\t<article id=\"change-log${i}\">\n\t\t\t\t\t\t<header>\n\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t<span lang=\"en\">${log.title.en}</span>\n\t\t\t\t\t\t\t\t<span lang=\"ja\">${log.title.ja}</span>\n\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t<time>${log.date}</time>\n\t\t\t\t\t\t</header>\n\t\t\t\t\t\t<section class=\"seciton-body\" lang=\"en\">${log.article.en}</section>\n\t\t\t\t\t\t<section class=\"seciton-body\" lang=\"ja\">${log.article.ja}</section>\n\t\t\t\t\t</article>`;\n\t\t\t}\n\t\t\tthis._$.find('.seciton-body').append(html);\n\t\t}\n\t\t// scroll\n\t\tif (params) {\n\t\t\tconst $targetArticle = this._$.find(`#change-log${params.index}`);\n\t\t\tsetTimeout(function() {\n\t\t\t\t$('html, body').animate({\n\t\t\t\t\tscrollTop: $targetArticle.offset().top\n\t\t\t\t}, {\n\t\t\t\t\tduration: 400\n\t\t\t\t})\n\t\t\t}, 200);\n\t\t}\n\t}\n\n\thide() {\n\t\tthis._$.removeClass('shown');\n\t}\n\n} // ********** end of ChangeLogViewController class\n","/* global $ */\n\nimport {__g} from './global.js';\n\nconst\n\tEXCLUSIVE_WORDS = ['of', 'and'],\n\tCANVAS_SIZE = 300,\n\tCANVAS_MARGIN = 0,\n\tFONT_SIZE = 100;\nlet\n\toffScreenCanvasContainer;\n\n/* Star image class\n * 星のロゴ画像生成クラス\n * @param _id String\n * @param _$container jQuery\n * \n */\nexport default class StarImage {\n\n\tconstructor(_id, _$container, _callback) {\n\t\tthis._id = _id;\n\t\tthis._callback = _callback;\n\t\tthis._logotypeUrl;\n\t\tthis._img;\n\t\tthis._bgColor;\n\t\tthis._$container = _$container;\n\t\tthis._$img;\n\t\t//this._$icon;\n\t\toffScreenCanvasContainer = offScreenCanvasContainer ? offScreenCanvasContainer : document.getElementById('offscreen-canvas-container');\n\n\t\tthis._logotypeUrl = __g.app.datasets.logotypeUrl(_id);\n\t\tif (this._logotypeUrl) {\n\t\t\t// ロゴあり\n\t\t\tthis._img = new Image();\n\t\t\tthis._img.src = this._logotypeUrl;\n\t\t\tif (this._img.complete) {\n\t\t\t\tthis.generateIconFromImg();\n\t\t\t} else {\n\t\t\t\tthis._img.onload = () => this.generateIconFromImg();\n\t\t\t\tthis._img.onerror = () => this.generateIconFromText();\n\t\t\t}\n\t\t} else {\n\t\t\t// ロゴ無し\n\t\t\tthis.generateIconFromText();\n\t\t}\n\t}\n\n\n\tgenerateCanvas() {\n\t\tvar canvas;\n\t\tcanvas = document.createElement('canvas'); \n\t\tcanvas.id = 'canvas' + (__g.canvasId++);\n\t\tcanvas.height = CANVAS_SIZE;\n\t\tcanvas.width = CANVAS_SIZE;\n\t\tcanvas.className = 'offscreen';\n\t\toffScreenCanvasContainer.appendChild(canvas);\n\t\treturn canvas;\n\t}\n\n\t// 頭字でアイコンを作る\n\tgenerateIconFromText() {\n\t\tvar title = __g.app.datasets.title(this._id).en,\n\t\t\t\ttitleWords = title.split(' '),\n\t\t\t\tacronym = '',\n\t\t\t\tfontSize = FONT_SIZE,\n\t\t\t\ttextMaxWidth = CANVAS_SIZE - CANVAS_MARGIN * 2,\n\t\t\t\tcanvas, ctx, metrics;\n\n\t\t// 頭字語の生成\n\t\ttitleWords.forEach(elm => acronym += (EXCLUSIVE_WORDS.indexOf(elm) === -1 ? elm.charAt(0) : ''));\n\t\tacronym = acronym.toUpperCase();\n\n\t\t// canvasでイメージの生成\n\t\tcanvas = this.generateCanvas();\n\t\tctx = canvas.getContext('2d');\n\t\tctx.fillStyle = 'white';\n\t\tctx.arc(CANVAS_SIZE / 2, CANVAS_SIZE / 2, CANVAS_SIZE / 2, 0, Math.PI * 2, true);\n\t\tctx.fill();\n\t\tctx.fillStyle = '#123456';\n\t\tctx.textAlign = 'center';\n\t\tctx.textBaseline = 'middle';\n\t\tctx.font = fontSize + 'px \"Lato\"';\n\t\tmetrics = ctx.measureText(acronym);\n\t\tif (textMaxWidth < metrics.width) {\n\t\t\tfontSize *= textMaxWidth / metrics.width;\n\t\t\tctx.font = fontSize + 'px \"Lato\"';\n\t\t}\n\t\tctx.fillText(acronym, CANVAS_SIZE / 2, CANVAS_SIZE / 2, CANVAS_SIZE);\n\t\tthis._logotypeUrl = canvas.toDataURL();\n\t\toffScreenCanvasContainer.removeChild(canvas);\n\t\tthis.generateIcon();\n\t}\n\n\t// 画像の読込完了\n\tgenerateIconFromImg() {\n\t\tvar canvas, ctx, dx, dy, dw, dh;\n\n\t\t// canvasでイメージの生成\n\t\tcanvas = this.generateCanvas();\n\t\tctx = canvas.getContext('2d');\n\t\tctx.beginPath();\n\t\tctx.arc(CANVAS_SIZE / 2, CANVAS_SIZE / 2, CANVAS_SIZE / 2, 0, Math.PI * 2, true);\n\t\tctx.clip();\n\t\tif (this._img.naturalWidth < this._img.naturalHeight) {\n\t\t\tdh = CANVAS_SIZE - CANVAS_MARGIN * 2;\n\t\t\tdw = this._img.naturalWidth * (dh / this._img.naturalHeight);\n\t\t\tdx = CANVAS_MARGIN + (dh - dw) * 0.5;\n\t\t\tdy = CANVAS_MARGIN;\n\t\t} else {\n\t\t\tdw = CANVAS_SIZE - CANVAS_MARGIN * 2;\n\t\t\tdh = this._img.naturalHeight * (dw / this._img.naturalWidth);\n\t\t\tdx = CANVAS_MARGIN;\n\t\t\tdy = CANVAS_MARGIN + (dw - dh) * 0.5;\n\t\t}\n\t\tctx.drawImage(this._img, dx, dy, dw, dh);\n\t\tthis._logotypeUrl = canvas.toDataURL();\n\t\toffScreenCanvasContainer.removeChild(canvas);\n\t\tthis.generateIcon();\n\t}\n\n\tgenerateIcon() {\n\t\t$('.icon', this._$container).append('<img data-adaptive-background=\"1\" src=\"' + this._logotypeUrl + '\">');\n\t\tthis._$img = $('img', this._$container);\n\t\tthis._$img\n\t\t\t.on('ab-color-found', function(e, payload){\n\t\t\t\tthis._bgColor = payload.color;\n\t\t\t\tthis._bgColor = this._bgColor === 'rgb()' ? 'rgb(255,255,255)' : this._bgColor;\n\t\t\t});\n\t\t// アプリにロゴ画像読込完了を通知\n\t\tif (typeof this._callback === 'function') {\n\t\t\tthis._callback();\n\t\t}\n\t}\n\n\n} // ********** end of Star image class\n","/* global $, CodeMirror */\n\nimport {$w, __g, _html, _htmlTR, _htmlTRDetail, _htmlTRValueNumeral, _htmlTRHasDetailValueNumeral2, _htmlAnchor, _htmlStatics, _htmlHasDetailAndDetail, _MLHtml, _MLAnchor, _placeComma, _sanitizeTag, _numeral} from './global.js';\nimport StarImage from './StarImage.js';\n\nconst\n\tORIGIN = {\n\t\tX: 113,\n\t\tY: 86\n\t},\n\tOFFSET = {\n\t\tX: -60,\n\t\tY: 0\n\t}\n\n/* Detail view manager class\n * 詳細ビュー管理クラス\n * \n */\nexport default class DetailViewController {\n\n\tconstructor() {\n\t\tthis._counter = 0;\n\t\tthis._$currentDetailView;\n\t\tthis._$frame;\n\n\t\t$('body').append('<div id=\"detail-view-frame\"><div class=\"inner\"></div></div>');\n\t\tthis._$frame = $('#detail-view-frame').children('.inner').on('animationend webkitAnimationEnd oAnimationEnd', function(e){\n\t\t\t//$(this).removeClass('frame-in frame-out');\n\t\t\t$(e.delegateTarget).removeClass('frame-in frame-out');\n\t\t});\n\t}\n\n\tshow() {\n\t\t$('body, html').animate({ scrollTop: 0 }, __g.DETAIL_DELAY, 'swing');\n\t\twindow.setTimeout(() => {\n\t\t\tthis.makeDetailView();\n\t\t}, __g.DETAIL_DELAY * 0.25);\n\t\tthis._$frame.addClass('frame-in');\n\t}\n\n\tmakeDetailView() {\n\n\t\tvar STR = __g.STRINGS,\n\t\t\t\tID_SPECIFICATION = 'detail-specification',\n\t\t\t\tID_CONNECTED_DATASETS = 'detail-connected-datasets',\n\t\t\t\tID_STATISTICS = 'detail-statistics',\n\t\t\t\tID_SCHEMA = 'detail-schema',\n\t\t\t\tID_SPARQL_EXAMPLES = 'detail-sparql-examples',\n\t\t\t\tID_STANZA = 'detail-stanzas',\n\t\t\t\thtml, i, j, width, $connectedDataset, $detailNavigationItems,\n\t\t\t\t_$schemaImages,\n\t\t\t\tdatasets = __g.app.datasets,\n\t\t\t\tstarId = __g.app.currentStarId,\n\t\t\t\t//starId = window.location.pathname.split('/').pop(),\n\t\t\t\tnoOfConnectedDatasets = datasets.connectedDatasetIds.noOf(starId) + datasets.xref.noOf(starId),\n\t\t\t\tnoOfSPARQLExamples = datasets.SPARQLExamples.noOf(starId),\n\t\t\t\tnoOfSchema = datasets.schema.noOf(starId),\n\t\t\t\t//noOfStanza = datasets.stanza.noOf(starId),\n\t\t\t\tnoOfStanza = 0, // スタンザは出力しないよう、一時的に0を代入\n\t\t\t\tdisposableStarIds = [],\n\t\t\t\tcmEditor, cmEditors = [];\n\n\t\t\t\tconsole.log(datasets)\n\n\t\t// スター（ノード）に通知\n\t\t__g.app.stars.forEach(function(star){\n\t\t\tstar.prepareDetailView(starId);\n\t\t});\n\n\t\t// ディティールビューを生成\n\t\thtml = \n\t\t\t`<div id=\"detail-view${this._counter}\" class=\"detail-view\">` +\n\t\t\t\t_html('h2', _MLHtml(datasets.title(starId))) +\n\t\t\t\t`<p class=\"homepage\">${_MLAnchor(datasets.uri(starId), STR.launch)}</p>` +\n\t\t\t\t`<div class=\"description\">${_MLHtml(datasets.description(starId))}</div>` +\n\t\t\t\t_html('aside', { id: ID_SPECIFICATION, class: 'specification' }, // #### Specification\n\t\t\t\t\t_html( 'h3', _MLHtml(STR.specification) ) +\n\t\t\t\t\t_html('table', { class: 'horizontal-table' },\n\t\t\t\t\t\t_html('tbody', { class: 'specification' },\n\t\t\t\t\t\t\t_htmlTR(_MLHtml( STR.tags ), (function(){ // tags\n\t\t\t\t\t\t\t\tvar subHtml = '<ul class=\"tags\">', tag;\n\t\t\t\t\t\t\t\tfor (i = 0; i < datasets.tags.noOf(starId); i++) {\n\t\t\t\t\t\t\t\t\ttag = datasets.tags.tag(starId, i);\n\t\t\t\t\t\t\t\t\tsubHtml += `<li class=\"tag-${_sanitizeTag(tag.en)}\">${_MLHtml(tag)}</li>`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubHtml += '</ul>';\n\t\t\t\t\t\t\t\treturn subHtml;\n\t\t\t\t\t\t\t})()) +\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.dataProvider ), _MLHtml(datasets.dataProvider(starId)) ) +\n\t\t\t\t\t\t\t_htmlTR(_MLHtml(STR.creators), (function(){\n\t\t\t\t\t\t\t\tvar numberOfCreators = datasets.creators.noOf(starId),\n\t\t\t\t\t\t\t\t\t\tsubHtml = '<ul>';\n\t\t\t\t\t\t\t\tfor (i = 0; i < numberOfCreators; i++) {\n\t\t\t\t\t\t\t\t\tsubHtml += `<li>${_MLHtml(datasets.creators.name(starId, i))}&nbsp;&nbsp;<small>${_MLHtml(datasets.creators.affiliation(starId, i))}</small></li>`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn subHtml + '</ul>';\n\t\t\t\t\t\t\t})()) +\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.version ), datasets.version(starId) ) +\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.issued ), datasets.issued(starId) ) +\n\t\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\t\treturn datasets.license.uri(starId)[__g.app.language] === ''\n\t\t\t\t\t\t\t\t\t? ''\n\t\t\t\t\t\t\t\t\t: _htmlTR( _MLHtml( STR.license ), _MLAnchor(datasets.license.uri(starId), datasets.license.name(starId) ) + '<br>' + _MLHtml( datasets.license.credit(starId) ));\n\t\t\t\t\t\t\t})() +\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.status ),\n\t\t\t\t\t\t\t\t`<div class=\"reviewed-icon${ datasets.reviewed(starId) === 'reviewed' ? '' : ' -unreviewed' }\"></div> <span>${ _MLHtml(datasets.reviewed(starId) === 'reviewed' ? STR.reviewed : STR.unreviewed) }</span>` +\n\t\t\t\t\t\t\t\t`<div class=\"star\" data-provided-as=\"${datasets.providedAs(starId)}\"><div class=\"icon\"><div class=\"body\"></div></div></div><span>${_MLHtml(datasets.providedAs(starId) === 'original' ? STR.originalDataset : STR.thirdPartyDataset)}</span>` ) +\n\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.downloadFile ),\n\t\t\t\t\t\t\t\t_html('p', { class: 'file' },\n\t\t\t\t\t\t\t\t\t_html('a', { href: datasets.downloadFile.uri(starId) }, datasets.downloadFile.name(starId)) + ' ' +\n\t\t\t\t\t\t\t\t\t_html('small', _numeral(datasets.downloadFile.size(starId)) + ' bytes')\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)/* + // ガイドライン一時的にコメントアウト\n\t\t\t\t\t\t\t_htmlTR( _MLHtml( STR.responseToRDFGuideline ),\n\t\t\t\t\t\t\t\t(function(){\n\t\t\t\t\t\t\t\t\tconst guideline = datasets.guideline(starId);\n\t\t\t\t\t\t\t\t\tif (!guideline) return '';\n\t\t\t\t\t\t\t\t\tlet numberOfApplied = 0, numberOfNA = 0, html = '<ul class=\"guidline-outline\">';\n\t\t\t\t\t\t\t\t\tfor (var i in guideline) {\n\t\t\t\t\t\t\t\t\t\tnumberOfApplied += guideline[i] === '1';\n\t\t\t\t\t\t\t\t\t\tnumberOfNA += guideline[i] === 'NA';\n\t\t\t\t\t\t\t\t\thtml += `<li class=\"status-${guideline[i]}\">${i}<div class=\"definition\">${__g.guideline[i]}</div></li>`;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\thtml = `<div class=\"guideline-applied-bar\"><div style=\"width: ${numberOfApplied / (Object.keys(guideline).length - numberOfNA) * 100}%\"></div></div>${html}</ul>`;\n\t\t\t\t\t\t\t\t\treturn html.replace('status-?', 'status-question');\n\t\t\t\t\t\t\t\t})()\n\t\t\t\t\t\t\t)*/\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) +\n\t\t\t\t(function(){ // #### 関連データセット\n\t\t\t\t\tvar subHtml1 = '';\n\t\t\t\t\tif (noOfConnectedDatasets > 0) {\n\t\t\t\t\t\t// 関連データセットのソート\n\t\t\t\t\t\tsubHtml1 += \n\t\t\t\t\t\t_html('aside', { id: ID_CONNECTED_DATASETS, class: 'connected-dataset-ids' },\n\t\t\t\t\t\t\t_MLHtml('h3', STR.connectedDatasetIDs ) +\n\t\t\t\t\t\t\t_html('div', { class: 'stars' },\n\t\t\t\t\t\t\t\t(function(){\n\t\t\t\t\t\t\t\t\tvar subHtml2 = '',\n\t\t\t\t\t\t\t\t\t\t\tid, type,\n\t\t\t\t\t\t\t\t\t\t\tdisposableStarId, \n\t\t\t\t\t\t\t\t\t\t\tmaxTriples = 0, \n\t\t\t\t\t\t\t\t\t\t\tnoOfTriples = [],\n\t\t\t\t\t\t\t\t\t\t\tnoOfConnectedDatasets = datasets.connectedDatasetIds.noOf(starId),\n\t\t\t\t\t\t\t\t\t\t\tnoOfXrefs = datasets.xref.noOf(starId);\n\t\t\t\t\t\t\t\t\t// calculation\n\t\t\t\t\t\t\t\t\tfor (i = 0; i < noOfConnectedDatasets; i++) {\n\t\t\t\t\t\t\t\t\t\tnoOfTriples[i] = datasets.connectedDatasetIds.noOfTriple(starId, i);\n\t\t\t\t\t\t\t\t\t\tmaxTriples = maxTriples > noOfTriples[i] ? maxTriples : noOfTriples[i];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfor (j = 0; j < noOfXrefs; j++) {\n\t\t\t\t\t\t\t\t\t\tnoOfTriples[i + j] = datasets.xref.noOfTriples(starId, j);\n\t\t\t\t\t\t\t\t\t\tmaxTriples = maxTriples > noOfTriples[i + j] ? maxTriples : noOfTriples[i + j];\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// internal\n\t\t\t\t\t\t\t\t\tfor (i = 0; i < noOfConnectedDatasets; i++) {\n\t\t\t\t\t\t\t\t\t\tdisposableStarId = 'disposableStar' + __g.disposableStarId ++;\n\t\t\t\t\t\t\t\t\t\tid = datasets.connectedDatasetIds.id(starId, i);\n\t\t\t\t\t\t\t\t\t\ttype = datasets.connectedDatasetIds.type(starId, i);\n\t\t\t\t\t\t\t\t\t\tsubHtml2 +=\n\t\t\t\t\t\t\t\t\t\t\t`<div id=\"${disposableStarId}\" class=\"star\" data-id=\"${id}\" data-type=\"${type}\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"icon\"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t${_MLHtml('h2', datasets.title(id))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${type ? `<p class=\"link-type\">${type}</p>` : ''}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"bar\" style=\"width: ${(noOfTriples[i] / maxTriples) * 75}%;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"number-of-triples\">${_numeral(noOfTriples[i])}<small>links</small></p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\t\t\t\t\tdisposableStarIds.push(disposableStarId);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tfor (j = 0; j < noOfXrefs; j++) {\n\t\t\t\t\t\t\t\t\t\ttype = datasets.xref.type(starId, j);\n\t\t\t\t\t\t\t\t\t\tsubHtml2 += `\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"star xref\" data-type=\"${type}\">\n\t\t\t\t\t\t\t\t\t\t\t\t<a class=\"icon\" href=\"${datasets.xref.uri(starId, j)}\" target=\"_blank\"></a>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t${_MLHtml('h2', datasets.xref.title(starId, j))}\n\t\t\t\t\t\t\t\t\t\t\t\t\t${type ? `<p class=\"link-type\">${type}</p>` : ''}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"bar\" style=\"width: ${(noOfTriples[i + j] / maxTriples) * 75}%;\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p class=\"number-of-triples\">${_numeral(noOfTriples[i + j])}<small>links</small></p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// external\n\t\t\t\t\t\t\t\t\treturn subHtml2;\n\t\t\t\t\t\t\t\t})()\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn subHtml1;\n\t\t\t\t})() +\n\t\t\t\t_html('aside', { id: ID_STATISTICS, class: 'statistics' }, // #### 統計情報\n\t\t\t\t\t_MLHtml('h3', STR.statistics ) +\n\t\t\t\t\t_html('table', { class: 'horizontal-table' },\n\t\t\t\t\t\t_htmlStatics(starId) +\n\t\t\t\t\t\t_htmlHasDetailAndDetail('graphs') + // Graphs\n\t\t\t\t\t\t_htmlHasDetailAndDetail('ontologies') // Ontologies\n\t\t\t\t\t)\n\t\t\t\t) +\n\t\t\t\t(function(){ // #### Schema\n\t\t\t\t\tif (noOfSchema === 0) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t\tvar subHtml = '';\n\t\t\t\t\tfor (var i = 0; i < noOfSchema; i++) {\n\t\t\t\t\t\tsubHtml += \n\t\t\t\t\t\t\t'<a href=\"' + datasets.schema.imageUri(starId, i) + '\" target=\"_blank\" class=\"schema\">' +\n\t\t\t\t\t\t\t\t'<img src=\"' + datasets.schema.imageUri(starId, i) + '\" alt=\"\">' +\n\t\t\t\t\t\t\t\t_MLHtml('span', { class: 'open' }, STR.open) +\n\t\t\t\t\t\t\t'</a>';\n\t\t\t\t\t}\n\t\t\t\t\tsubHtml =\n\t\t\t\t\t_html('aside', { id: ID_SCHEMA, class: 'schema' },\n\t\t\t\t\t\t_MLHtml('h3', STR.schema) +\n\t\t\t\t\t\t_html('div', { class: 'images' }, subHtml));\n\t\t\t\t\treturn subHtml;\n\t\t\t\t})() +\n\t\t\t\t(function(){ // #### SPARQL examples\n\t\t\t\t\tif (noOfSPARQLExamples === 0) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t\tvar subHtml1 =\n\t\t\t\t\t_html('aside', { id: ID_SPARQL_EXAMPLES, class: 'sparql-examples' },\n\t\t\t\t\t\t_MLHtml( 'h3', STR.sparqlExamples ) +\n\t\t\t\t\t\t(function(){\n\t\t\t\t\t\t\tvar subHtml2 = '';\n\t\t\t\t\t\t\tfor (var i = 0; i < datasets.SPARQLExamples.noOf(starId); i++) {\n\t\t\t\t\t\t\t\tsubHtml2 +=\n\t\t\t\t\t\t\t\t_html('div', { class: 'sparql' },\n\t\t\t\t\t\t\t\t\t'<textarea class=\"sparql-textarea\">' + datasets.SPARQLExamples.sparql(starId, i) + '</textarea>' +\n\t\t\t\t\t\t\t\t\t_html('form', { action: datasets.SPARQLExamples.uri(starId, i), target: '_blank', method: 'POST' },\n\t\t\t\t\t\t\t\t\t\t_html('button', { type: 'submit' }, _MLHtml(STR.sparqlEndpoint)) +\n\t\t\t\t\t\t\t\t\t\t_html('input', { type: 'hidden', name: 'query', value: datasets.SPARQLExamples.sparql(starId, i).replace(/\"/g, '&quot;') },\n\t\t\t\t\t\t\t\t\t\t'')\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn subHtml2;\n\t\t\t\t\t\t})()\n\t\t\t\t\t);\n\t\t\t\t\treturn subHtml1;\n\t\t\t\t})() +\n\t\t\t\t(function(){ // #### Stanza\n\t\t\t\t\t//// Rubby wrapper CASE\n\t\t\t\t\tif (noOfStanza === 0) {\n\t\t\t\t\t\treturn '';\n\t\t\t\t\t}\n\t\t\t\t\tvar subHtml1 =\n\t\t\t\t\t_html('aside', { id: ID_STANZA, class: 'stanzas' },\n\t\t\t\t\t\t_MLHtml('h3', STR.stanzas) +\n\t\t\t\t\t\t(function(){\n\t\t\t\t\t\t\tvar subHtml2 = '';\n\t\t\t\t\t\t\tfor (var i = 0; i < noOfStanza; i++) {\n\t\t\t\t\t\t\t\tsubHtml2 += \n\t\t\t\t\t\t\t\t\t`<div class=\"stanza\"><h4>${datasets.stanza.label(starId, i)}</h4><p class=\"definition\">${datasets.stanza.definition(starId, i)}</p>@@parameters@@<iframe src=\"http://togostanza.org/stanza/js_stanza_wrapper?server=http%3A%2F%2Ftogostanza.org%2Fdist%2Fstanza&name=${datasets.stanza.id(starId, i)}&options=@@options@@\"></iframe></div>`\n\t\t\t\t\t\t\t\t\t.replace('@@parameters@@', \n\t\t\t\t\t\t\t\t\t\t(function(){\n\t\t\t\t\t\t\t\t\t\t\tvar subHtml3 = '';\n\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < datasets.stanza.parameter.noOf(starId, i); j++) {\n\t\t\t\t\t\t\t\t\t\t\t\tsubHtml3 +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t`<div class=\"parameter ${datasets.stanza.parameter.required(starId, i, j) ? 'required' : ''}\"><p class=\"key\">${datasets.stanza.parameter.key(starId, i, j)}</p><input type=\"text\" value=\"${datasets.stanza.parameter.example(starId, i, j)}\"><p class=\"description\">${datasets.stanza.parameter.description(starId, i, j)}</p></div>`;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn subHtml3;\n\t\t\t\t\t\t\t\t\t\t})()\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.replace('@@options@@',\n\t\t\t\t\t\t\t\t\t\t(function(){\n\t\t\t\t\t\t\t\t\t\t\tvar subHtml3 = '';\n\t\t\t\t\t\t\t\t\t\t\tfor (var j = 0; j < datasets.stanza.parameter.noOf(starId, i); j++) {\n\t\t\t\t\t\t\t\t\t\t\t\tsubHtml3 +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t(j === 0 ? '' : '+') +\n\t\t\t\t\t\t\t\t\t\t\t\t\tdatasets.stanza.parameter.key(starId, i, j) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t'=' +\n\t\t\t\t\t\t\t\t\t\t\t\t\tdatasets.stanza.parameter.example(starId, i, j);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\treturn subHtml3;\n\t\t\t\t\t\t\t\t\t\t})()\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn subHtml2;\n\t\t\t\t\t\t})()\n\t\t\t\t\t);\n\t\t\t\t\t//// JS CASE\n\t\t\t\t\t/*\n\t\t\t\t\tvar stanza = 'protein_sequence';\n\t\t\t\t\t$('head').append('<link rel=\"import\" href=\"./stanza/list_compounds_bound_to_givin_protein.html\">');\n\t\t\t\t\tvar subHtml1 =\n\t\t\t\t\t_html('aside', { id: ID_STANZA, class: 'stanzas' },\n\t\t\t\t\t\t_MLHtml('h3', STR.stanzas) +\n\t\t\t\t\t\t'<togostanza-list_compounds_bound_to_givin_protein up_id=\"P00533\" standard_type=\"IC50\"></togostanza-list_compounds_bound_to_givin_protein>'\n\t\t\t\t\t\t);\n\t\t\t\t\t\t*/\n\t\t\t\t\t//// IFRAME CASE\n\t\t\t\t\t/*\n\t\t\t\t\tvar subHtml1 =\n\t\t\t\t\t_html('aside', { id: ID_STANZA, class: 'stanzas' },\n\t\t\t\t\t\t_MLHtml('h3', STR.stanzas) +\n\t\t\t\t\t\t'<iframe class=\"\" style=\"height: 500px;\" id=\"stanza-frame-1\" name=\"stanza-frame-1\" src=\"http://togostanza.org/stanza/environment_geographical_map?meo_id=MEO_0000029\"></iframe>'\n\t\t\t\t\t\t);\n\t\t\t\t\t\t*/\n\t\t\t\t\treturn subHtml1;\n\t\t\t\t})() +\n\t\t\t'</div><!-- /.detail-view -->' +\n\t\t\t(function(){ // navigation\n\t\t\t\tvar subHtml = '<nav class=\"detail-navigation\">';\n\t\t\t\t\tsubHtml += \n\t\t\t\t\t\t_html('a', { href: '#' + ID_SPECIFICATION }, _MLHtml('h3', STR.specification ) );\n\t\t\t\t\tsubHtml += noOfConnectedDatasets > 0 ? \n\t\t\t\t\t\t_html('a', { href: '#' + ID_CONNECTED_DATASETS }, _MLHtml('h3', STR.connectedDatasetIDs ) ) : '';\n\t\t\t\t\tsubHtml += \n\t\t\t\t\t\t_html('a', { href: '#' + ID_STATISTICS }, _MLHtml('h3', STR.statistics ) );\n\t\t\t\t\tsubHtml += noOfSchema !== 0 ?\n\t\t\t\t\t\t_html('a', { href: '#' + ID_SCHEMA }, _MLHtml('h3', STR.schema ) ) : '';\n\t\t\t\t\tsubHtml += noOfSPARQLExamples > 0 ? \n\t\t\t\t\t\t_html('a', { href: '#' + ID_SPARQL_EXAMPLES }, _MLHtml('h3', STR.sparqlExamples ) ) : '';\n\t\t\t\t\tsubHtml += noOfStanza > 0 ?\n\t\t\t\t\t\t_html('a', { href: '#' + ID_STANZA },\n\t\t\t\t\t\t\t_MLHtml('h3', STR.stanzas ) ) : '';\n\t\t\t\treturn subHtml + '</nav>';\n\t\t\t})();\n\t\t__g.app.$main.append(html);\n\t\tthis._$currentDetailView = $('#detail-view' + this._counter++);\n\t\t//$detailView = __g.append\n\t\t__g.app.$main.children('.detail-view');\n\t\t_$schemaImages = $('#detail-schema').children('.images');\n\n\t\t// comma\n\t\t_placeComma(this._$currentDetailView);\n\n\t\t// CodeMirror\n\t\twidth = $w.innerWidth() - __g.DETAIL_MARGIN;\n\t\tthis._$currentDetailView.find('.sparql-examples').find('textarea').each(function(){\n\t\t\tcmEditor = CodeMirror.fromTextArea(this, {\n\t\t\t\tmode: 'application/sparql-query',\n\t\t\t\tmatchBrackets: true,\n\t\t\t\tlineNumbers: true\n\t\t\t});\n\t\t\tcmEditors.push(cmEditor);\n\t\t\tcmEditor.setSize(width, 'auto');\n\t\t});\n\n\t\t// スタンザのパラメータを変更するとスタンザ更新\n\t\tthis._$currentDetailView.find('.stanza input').on('change', function(){\n\t\t\tvar $stanza = $(this).parents('.stanza'),\n\t\t\t\t\t$iframe = $stanza.find('iframe'),\n\t\t\t\t\tsrc = $iframe.attr('src'),\n\t\t\t\t\t$parameters = $stanza.find('.parameter');\n\t\t\tsrc = src.substring(0, src.indexOf('&options=') + 1) + '&options=';\n\t\t\tfor (var i = 0; i < $parameters.length; i++) {\n\t\t\t\tvar $parameter = $($parameters[i]);\n\t\t\t\tsrc += (i === 0 ? '' : '+') + $parameter.find('p.key').text() + '=' + $parameter.find('input').val();\n\t\t\t}\n\t\t\t$iframe.attr('src', src);\n\t\t});\n\n\t\t// ナブゲーション押下でスムーズスクロール\n\t\t$detailNavigationItems = __g.app.$main.children('nav.detail-navigation').find('a')\n\t\t\t.each(function(){\n\t\t\t\tthis.$ = $(this);\n\t\t\t\tthis.$target = $(this.getAttribute('href'));\n\t\t\t})\n\t\t\t.on('click', function(){\n\t\t\t\tvar top = this.$target.offset().top;\n\t\t\t\t$('body, html').animate({ scrollTop: top }, 400, 'swing');\n\t\t\t\treturn false;\n\t\t\t});\n\t\t$w\n\t\t\t.on({\n\t\t\t\t'scroll.detail-navigation': function(){ // 画面中に収まっている項目を指示\n\t\t\t\t\tvar scrollTop = $w.scrollTop(),\n\t\t\t\t\t\t\tscrollBottom = scrollTop + $w.innerHeight();\n\t\t\t\t\t$detailNavigationItems.each(function(){\n\t\t\t\t\t\tvar top = this.$target.offset().top,\n\t\t\t\t\t\t\t\tbottom = top + this.$target.innerHeight();\n\t\t\t\t\t\tif ((bottom < scrollTop) || (scrollBottom < top)) {\n\t\t\t\t\t\t\tthis.$.removeClass('within');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.$.addClass('within');\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\t'resize.detail-code-mirror': function(){\n\t\t\t\t\twidth = $w.innerWidth() - __g.DETAIL_MARGIN;\n\t\t\t\t\t_$schemaImages.width(width);\n\t\t\t\t\tfor (i = 0; i < cmEditors.length; i++) {\n\t\t\t\t\t\tcmEditors[i].setSize(width, 'auto');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.triggerHandler('scroll.detail-navigation');\n\n\t\t// 関連データセットのノード\n\t\tfor (i = 0; i < disposableStarIds.length; i++) {\n\t\t\t$connectedDataset = $('#' + disposableStarIds[i]);\n\t\t\t$connectedDataset.children('.icon').on('click', function(){\n\t\t\t\t__g.app.starsWithKeys[this.parentNode.getAttribute('data-id')].clickedAlias(this);\n\t\t\t});\n\t\t\tnew StarImage(datasets.connectedDatasetIds.id(starId, i), $connectedDataset);\n\t\t}\n\n\t\t// 子項目を持つ要素の折りたたみとインタラクション定義\n\t\tvar _setDetailCollapsible = function(elm){\n\t\t\t$(elm).find('.has-detail').each(function(){\n\t\t\t\tif (this.isCollapsible === true) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar isOpened = false, isLoaded = false,\n\t\t\t\t\t\tjsonKind = this.getAttribute('data-json-kind'),\n\t\t\t\t\t\tjsonUri = this.getAttribute('data-json-uri'),\n\t\t\t\t\t\tclassification = this.getAttribute('data-classification'),\n\t\t\t\t\t\tindex = parseInt(this.getAttribute('data-index')),\n\t\t\t\t\t\t$this = $(this),\n\t\t\t\t\t\t$closer = $this.next('.detail').children('td').children('.closer'),\n\t\t\t\t\t\t$closerInner = $closer.children('.closer-inner');\n\t\t\t\tthis.isCollapsible = true;\n\t\t\t\t$closer.css({\n\t\t\t\t\tdisplay: 'block'\n\t\t\t\t});\n\t\t\t\t$closerInner.css( 'margin-bottom', -$closerInner.outerHeight() );\n\t\t\t\t$w.on('resize.detail', function() {\n\t\t\t\t\tif (!isOpened) {\n\t\t\t\t\t\t$closerInner.css( 'margin-bottom', -$closerInner.outerHeight() );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$this.on('click', function(){\n\t\t\t\t\tisOpened = !isOpened;\n\t\t\t\t\tif (isOpened) {\n\t\t\t\t\t\t$this.addClass('opened');\n\t\t\t\t\t\t$closerInner.css( 'margin-bottom', 0 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$this.removeClass('opened');\n\t\t\t\t\t\t$closerInner.css( 'margin-bottom', -$closerInner.outerHeight() );\n\t\t\t\t\t}\n\t\t\t\t\tif (jsonUri !== 'undefined' && jsonUri !== undefined && jsonUri !== null && !isLoaded) { // ロード\n\t\t\t\t\t\twindow.setTimeout(function(){\n\t\t\t\t\t\t\tvar DATASETS = classification === 'undefined' ? __g.app.datasets[jsonKind] : __g.app.datasets[classification][jsonKind];\n\t\t\t\t\t\t\tDATASETS.load(starId, function(){\n\t\t\t\t\t\t\t\t_makeCollapsedTable(\n\t\t\t\t\t\t\t\t\tDATASETS,\n\t\t\t\t\t\t\t\t\tclassification,\n\t\t\t\t\t\t\t\t\tjsonKind,\n\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t$this.next('.detail').find('tbody'));\n\t\t\t\t\t\t\t}, index);\n\t\t\t\t\t\t}, 600);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t};\n\t\t_setDetailCollapsible(this._$currentDetailView);\n\n\t\t// 折りたたまれたテーブルの生成\n\t\tvar _makeCollapsedTable = function(DATASETS, classification, jsonKind, index, offset, $tbody){\n\t\t\tvar subHtml = '', uri, label, anchor, noOfDomainClasses, noOfRangeClasses,\n\t\t\t\t\tnoOf = DATASETS.noOf(starId, index);\n\n\t\t\t// remove indicator\n\t\t\t$tbody.find('tr.loading, tr.more').remove();\n\n\t\t\t// html\n\t\t\tfor (i = offset; i < offset + __g.DATA_LENGTH; i++) {\n\t\t\t\tif (i === noOf) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tswitch (jsonKind) {\n\t\t\t\t\tcase 'classes': {\n\t\t\t\t\t\turi = DATASETS.class(starId, i, index);\n\t\t\t\t\t\tlabel = DATASETS.label(starId, i, index);\n\t\t\t\t\t\tanchor = (typeof label === 'string') ? _htmlAnchor(uri, label) : _MLAnchor(uri, label);\n\t\t\t\t\t\tsubHtml += _htmlTRValueNumeral( anchor, DATASETS.noOfInstances(starId, i, index) );\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'properties': {\n\t\t\t\t\t\turi = DATASETS.property(starId, i, index);\n\t\t\t\t\t\tnoOfDomainClasses = DATASETS.domainClasses.noOf(starId, i, index);\n\t\t\t\t\t\tnoOfRangeClasses = DATASETS.rangeClasses.noOf(starId, i, index);\n\t\t\t\t\t\tif (noOfDomainClasses === 0) {\n\t\t\t\t\t\t\tsubHtml += _htmlTRValueNumeral( _htmlAnchor(uri, uri), DATASETS.noOfTriples(starId, i, index) );\n\t\t\t\t\t\t} else { // domain/range クラスを property の持つ場合\n\t\t\t\t\t\t\tsubHtml += _htmlTRHasDetailValueNumeral2(\n\t\t\t\t\t\t\t\t\t_htmlAnchor(uri, uri),\n\t\t\t\t\t\t\t\t\tDATASETS.noOfTriples(starId, i, index),\n\t\t\t\t\t\t\t\t\t'classes',\n\t\t\t\t\t\t\t\t\tundefined,\n\t\t\t\t\t\t\t\t\tclassification,\n\t\t\t\t\t\t\t\t\ti\n\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t_htmlTRDetail((function(){\n\t\t\t\t\t\t\t\t\tvar subHtml4 = \n\t\t\t\t\t\t\t\t\t\t_html('table', { class: 'internal left-heading domain-and-range-class' },\n\t\t\t\t\t\t\t\t\t\t\t_html('tbody', { class: 'domain-class' }, (function(){ // domain classes\n\t\t\t\t\t\t\t\t\t\t\t\tvar subHtml5 = '';\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var k = 0; k < noOfDomainClasses; k++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubHtml5 +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_html('tr',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(k === 0 ? _MLHtml('th', { rowspan: noOfDomainClasses }, STR.domainClasses) : '') +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_html('td', _htmlAnchor(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDATASETS.domainClasses.domainClass(starId, k, i, index),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_MLHtml(DATASETS.domainClasses.label(starId, k, i, index)))));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn subHtml5;\n\t\t\t\t\t\t\t\t\t\t\t})()) +\n\t\t\t\t\t\t\t\t\t\t\t_html('tbody', { class: 'range-class' }, (function(){ // range classes\n\t\t\t\t\t\t\t\t\t\t\t\tvar subHtml5 = '';\n\t\t\t\t\t\t\t\t\t\t\t\tfor (var k = 0; k < noOfRangeClasses; k++) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsubHtml5 +=\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t_html('tr',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(k === 0 ? _MLHtml('th', { rowspan: noOfRangeClasses }, STR.rangeClasses) : '') +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_html('td', _htmlAnchor(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDATASETS.rangeClasses.rangeClass(starId, k, i, index),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_MLHtml(DATASETS.rangeClasses.label(starId, k, i, index)))));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\treturn subHtml5;\n\t\t\t\t\t\t\t\t\t\t\t})())\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\treturn subHtml4;\n\t\t\t\t\t\t\t\t})());\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$tbody.append(subHtml);\n\t\t\t_setDetailCollapsible( $tbody );\n\t\t\t_placeComma( $tbody );\n\n\t\t\t// interaction\n\t\t\tif (i < noOf) {\n\t\t\t\t$tbody.append('<tr class=\"more\"><td colspan=\"2\">' + _MLHtml(__g.STRINGS.more) + '<small>(' + (i + 1) + '~)</small></td></tr>');\n\t\t\t\t$tbody.find('tr.more').on('click', function(){\n\t\t\t\t\t_makeCollapsedTable(\n\t\t\t\t\t\tDATASETS,\n\t\t\t\t\t\tclassification,\n\t\t\t\t\t\tjsonKind,\n\t\t\t\t\t\tindex,\n\t\t\t\t\t\ti,\n\t\t\t\t\t\t$tbody);\n\t\t\t\t});\n\t\t\t}\n\n\t\t};\n\n\t\t// 遷移終了\t\n\t\twindow.setTimeout(() => {\n\t\t\tthis._$currentDetailView.addClass('shown');\n\t\t\t__g.app.changed(__g.VIEWS_NAME.indexOf('dataset'));\n\t\t}, __g.DETAIL_DELAY * 0.25);\n\t}\n\n\thide() {\n\t\tthis._$currentDetailView\n\t\t\t.addClass('hidden')\n\t\t\t.delay(__g.DETAIL_DELAY * 4)\n\t\t\t.animate({ opacity: 0 }, { duration: __g.DETAIL_DELAY, complete: function(){ $(this).remove(); } });\n\t\t$w.off('scroll.detail-navigation resize.detail resize.detail-code-mirror');\n\t\t__g.app.$main.children('nav.detail-navigation').remove();\n\t\t__g.app.stars.forEach(function(star){\n\t\t\tstar.prepareLeaveFromDetailView();\n\t\t});\n\t\tthis._$frame.addClass('frame-out');\n\t}\n\n\t// accessor\n\tstatic get ORIGIN() {\n\t\treturn ORIGIN\n\t}\n\tstatic get OFFSET() {\n\t\treturn OFFSET\n\t}\n\n} // ********** end of DetailViewController class\n","/* global $ */\n\nimport {__g} from './global.js';\n\n/* Datasets class\n * データセットのアクセッサーシングルトンクラス\n * json データの変換・橋渡しを行う\n * @param param object\n * \n */\nexport default class Datasets {\n\n\tconstructor(data) {\n\t\tthis._noOfDatasets;\n\t\tthis._classes = {};\n\t\tthis._graphClasses = {};\n\t\tthis._ontologyClasses = {};\n\t\tthis._properties = {};\n\t\tthis._graphProperties = {};\n\t\tthis._ontologyProperties = {};\n\t\tthis.data = data;\n\t\tconst self = this;\n\n\t\tthis.creators = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].creators.length;\n\t\t\t},\n\t\t\tname: function(id, index) {\n\t\t\t\treturn data[id].creators[index].name;\n\t\t\t},\n\t\t\taffiliation: function(id, index) {\n\t\t\t\treturn data[id].creators[index].affiliation;\n\t\t\t}\n\t\t};\n\n\t\tthis.version = function(id) {\n\t\t\treturn data[id].version;\n\t\t};\n\t\tthis.issued = function(id) {\n\t\t\treturn data[id].issued;\n\t\t};\n\t\tthis.logotypeUrl = function(id) {\n\t\t\treturn data[id].logo_url;\n\t\t};\n\n\t\tthis.schema = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].schema_image_urls.length;\n\t\t\t},\n\t\t\timageUri: function(id, index) {\n\t\t\t\treturn data[id].schema_image_urls[index];\n\t\t\t}\n\t\t};\n\n\t\tthis.downloadFile = {\n\t\t\tname: function(id) {\n\t\t\t\treturn data[id].download_file.name;\n\t\t\t},\n\t\t\turi: function(id) {\n\t\t\t\treturn data[id].download_file.url;\n\t\t\t},\n\t\t\tsize: function(id) {\n\t\t\t\treturn data[id].download_file.size;\n\t\t\t}\n\t\t};\n\n\t\tthis.noOfTriples = function(id) {\n\t\t\treturn data[id].number_of_triples;\n\t\t};\n\t\tthis.noOfInstances = function(id) {\n\t\t\treturn data[id].number_of_instances;\n\t\t};\n\t\tthis.noOfSubjects = function(id) {\n\t\t\treturn data[id].number_of_subjects;\n\t\t};\n\t\tthis.noOfObjects = function(id) {\n\t\t\treturn data[id].number_of_objects;\n\t\t};\n\t\tthis.noOfLiterals = function(id) {\n\t\t\treturn data[id].number_of_literals;\n\t\t};\n\t\tthis.noOfClasses = function(id) {\n\t\t\treturn data[id].number_of_classes;\n\t\t};\n\t\tthis.noOfProperties = function(id) {\n\t\t\treturn data[id].number_of_properties;\n\t\t};\n\t\tthis.noOfDatatypes = function(id) {\n\t\t\treturn data[id].number_of_datatypes;\n\t\t};\n\t\tthis.noOfLinks = function(id) {\n\t\t\treturn data[id].number_of_links;\n\t\t};\n\n\t\tthis.classes = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].number_of_classes;\n\t\t\t},\n\t\t\tjsonUri: function(id) {\n\t\t\t\treturn data[id].classes;\n\t\t\t},\n\t\t\tload: function(id, callback) {\n\t\t\t\tif (!self._classes[id]) {\n\t\t\t\t\t$.getJSON(\n\t\t\t\t\t\tself.classes.jsonUri(id),\n\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\tself._classes[id] = data;\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tclass: function(id, index) {\n\t\t\t\treturn self._classes[id][index].class;\n\t\t\t},\n\t\t\tlabel: function(id, index) {\n\t\t\t\treturn self._classes[id][index].label[__g.app.language];\n\t\t\t},\n\t\t\tnoOfInstances: function(id, index) {\n\t\t\t\treturn self._classes[id][index].number_of_instances;\n\t\t\t}\n\t\t};\n\n\t\tthis.properties = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].number_of_properties;\n\t\t\t},\n\t\t\tjsonUri: function(id) {\n\t\t\t\treturn data[id].properties;\n\t\t\t},\n\t\t\tload: function(id, callback) {\n\t\t\t\tif (!self._properties[id]) {\n\t\t\t\t\t$.getJSON(\n\t\t\t\t\t\tself.properties.jsonUri(id),\n\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\tself._properties[id] = data;\n\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t},\n\t\t\tproperty: function(id, index) {\n\t\t\t\treturn self._properties[id][index].property;\n\t\t\t},\n\t\t\tnoOfTriples: function(id, index) {\n\t\t\t\treturn self._properties[id][index].number_of_triples;\n\t\t\t},\n\t\t\tdomainClasses: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn self._properties[id][index].domain_classes.length;\n\t\t\t\t},\n\t\t\t\tdomainClass: function(id, index, index2) {\n\t\t\t\t\treturn self._properties[id][index2].domain_classes[index].domain_class;\n\t\t\t\t},\n\t\t\t\tlabel: function(id, index, index2) {\n\t\t\t\t\treturn self._properties[id][index2].domain_classes[index].label;\n\t\t\t\t},\n\t\t\t\tnoOfInstances: function(id, index, index2) {\n\t\t\t\t\treturn self._properties[id][index2].domain_classes[index].number_of_instances;\n\t\t\t\t}\n\t\t\t},\n\t\t\trangeClasses: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn self._properties[id][index].range_classes.length;\n\t\t\t\t},\n\t\t\t\trangeClass: function(id, index, index2) {\n\t\t\t\t\treturn self._properties[id][index2].range_classes[index].range_class;\n\t\t\t\t},\n\t\t\t\tlabel: function(id, index, index2) {\n\t\t\t\t\treturn self._properties[id][index2].range_classes[index].label;\n\t\t\t\t},\n\t\t\t\tnoOfInstances: function(id, index, index2) {\n\t\t\t\t\treturn self._properties[id][index2].range_classes[index].number_of_instances;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// datatype\n\t\tthis.datatypes = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].number_of_datatypes;\n\t\t\t},\n\t\t\tdatatype: function(id, index) {\n\t\t\t\treturn data[id].datatypes[index];\n\t\t\t}\n\t\t};\n\n\t\t// cross reference\n\t\tthis.xref = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].xrefs.length;\n\t\t\t},\n\t\t\turi: function(id, index) {\n\t\t\t\treturn data[id].xrefs[index].uri_space;\n\t\t\t},\n\t\t\ttype: function(id, index) {\n\t\t\t\treturn data[id].xrefs[index].type;\n\t\t\t},\n\t\t\ttitle: function(id, index) {\n\t\t\t\treturn data[id].xrefs[index].title;\n\t\t\t},\n\t\t\tnoOfTriples: function(id, index) {\n\t\t\t\treturn data[id].xrefs[index].number_of_triples;\n\t\t\t}\n\t\t};\n\n\t\t// connected\n\t\tthis.connectedDatasetIds = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].connected_dataset_ids.length;\n\t\t\t},\n\t\t\tid: function(id, index) {\n\t\t\t\treturn data[id].connected_dataset_ids[index].id;\n\t\t\t},\n\t\t\ttype: function(id, index) {\n\t\t\t\treturn data[id].connected_dataset_ids[index].type;\n\t\t\t},\n\t\t\tnoOfTriple: function(id, index) {\n\t\t\t\treturn data[id].connected_dataset_ids[index].number_of_triples;\n\t\t\t}\n\t\t};\n\n\t\t// ontology\n\t\tthis.ontologies = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].ontologies.length;\n\t\t\t},\n\t\t\turi: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].uri;\n\t\t\t},\n\t\t\tdescription: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].description;\n\t\t\t},\n\t\t\tfiles: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].ontologies[index].files.length;\n\t\t\t\t},\n\t\t\t\tname: function(id, index, index2) {\n\t\t\t\t\treturn data[id].ontologies[index2].files[index].name;\n\t\t\t\t},\n\t\t\t\turi: function(id, index, index2) {\n\t\t\t\t\treturn data[id].ontologies[index2].files[index].url;\n\t\t\t\t},\n\t\t\t\tsize: function(id, index, index2) {\n\t\t\t\t\treturn data[id].ontologies[index2].files[index].size;\n\t\t\t\t}\n\t\t\t},\n\t\t\tnoOfTriples: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].number_of_triples;\n\t\t\t},\n\t\t\tnoOfInstances: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].number_of_instances;\n\t\t\t},\n\t\t\tnoOfSubjects: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].number_of_subjects;\n\t\t\t},\n\t\t\tnoOfObjects: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].number_of_objects;\n\t\t\t},\n\t\t\tnoOfLiterals: function(id, index) {\n\t\t\t\treturn data[id].ontologies[index].number_of_literals;\n\t\t\t},\n\t\t\tclasses: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].ontologies[index].number_of_classes;\n\t\t\t\t},\n\t\t\t\tjsonUri: function(id, index) {\n\t\t\t\t\treturn data[id].ontologies[index].classes;\n\t\t\t\t},\n\t\t\t\tload: function(id, callback, index) {\n\t\t\t\t\tif (!self._ontologyClasses[id]) {\n\t\t\t\t\t\tself._ontologyClasses[id] = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (!self._ontologyClasses[id][index]) {\n\t\t\t\t\t\t$.getJSON(\n\t\t\t\t\t\t\tself.classes.jsonUri(id),\n\t\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\t\tself._ontologyClasses[id][index] = data;\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tclass: function(id, index, index2) {\n\t\t\t\t\treturn self._ontologyClasses[id][index2][index].class;\n\t\t\t\t},\n\t\t\t\tlabel: function(id, index, index2) {\n\t\t\t\t\treturn self._ontologyClasses[id][index2][index].label;\n\t\t\t\t},\n\t\t\t\tnoOfInstances: function(id, index, index2) {\n\t\t\t\t\treturn self._ontologyClasses[id][index2][index].number_of_instances;\n\t\t\t\t}\n\t\t\t},\n\t\t\tproperties: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].ontologies[index].number_of_properties;\n\t\t\t\t},\n\t\t\t\tjsonUri: function(id, index) {\n\t\t\t\t\treturn data[id].ontologies[index].properties;\n\t\t\t\t},\n\t\t\t\tload: function(id, callback, index) {\n\t\t\t\t\tif (!self._ontologyProperties[id]) {\n\t\t\t\t\t\tself._ontologyProperties[id] = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (!self._ontologyProperties[id][index]) {\n\t\t\t\t\t\t$.getJSON(\n\t\t\t\t\t\t\tself.properties.jsonUri(id),\n\t\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\t\tself._ontologyProperties[id][index] = data;\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tproperty: function(id, index, index2) {\n\t\t\t\t\treturn self._ontologyProperties[id][index2][index].property;\n\t\t\t\t},\n\t\t\t\tnoOfTriples: function(id, index, index2) {\n\t\t\t\t\treturn self._ontologyProperties[id][index2][index].number_of_triples;\n\t\t\t\t},\n\t\t\t\tdomainClasses: {\n\t\t\t\t\tnoOf: function(id, index, index2) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index2][index].domain_classes.length;\n\t\t\t\t\t},\n\t\t\t\t\tdomainClass: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index3][index2].domain_classes[index].domain_class;\n\t\t\t\t\t},\n\t\t\t\t\tlabel: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index3][index2].domain_classes[index].label;\n\t\t\t\t\t},\n\t\t\t\t\tnoOfInstances: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index3][index2].domain_classes[index].number_of_instances;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\trangeClasses: {\n\t\t\t\t\tnoOf: function(id, index, index2) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index2][index].range_classes.length;\n\t\t\t\t\t},\n\t\t\t\t\trangeClass: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index3][index2].range_classes[index].range_class;\n\t\t\t\t\t},\n\t\t\t\t\tlabel: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index3][index2].range_classes[index].label;\n\t\t\t\t\t},\n\t\t\t\t\tnoOfInstances: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._ontologyProperties[id][index3][index2].range_classes[index].number_of_instances;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdatatypes: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].ontologies[index].length;\n\t\t\t\t},\n\t\t\t\tdatatype: function(id, index, index2) {\n\t\t\t\t\treturn data[id].ontologies[index2].datatypes[index];\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// graph\n\t\tthis.graphs = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].graphs.length;\n\t\t\t},\n\t\t\turi: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].uri;\n\t\t\t},\n\t\t\tdescription: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].description;\n\t\t\t},\n\t\t\tfiles: {\n\t\t\t\tnoOf: function(id, index) { // file\n\t\t\t\t\treturn data[id].graphs[index].files.length;\n\t\t\t\t},\n\t\t\t\tname: function(id, index, index2) {\n\t\t\t\t\treturn data[id].graphs[index2].files[index].name;\n\t\t\t\t},\n\t\t\t\turi: function(id, index, index2) {\n\t\t\t\t\treturn data[id].graphs[index2].files[index].url;\n\t\t\t\t},\n\t\t\t\tsize: function(id, index, index2) {\n\t\t\t\t\treturn data[id].graphs[index2].files[index].size;\n\t\t\t\t}\n\t\t\t},\n\t\t\tnoOfTriples: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].number_of_triples;\n\t\t\t},\n\t\t\tnoOfInstances: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].number_of_instances;\n\t\t\t},\n\t\t\tnoOfSubjects: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].number_of_subjects;\n\t\t\t},\n\t\t\tnoOfObjects: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].number_of_objects;\n\t\t\t},\n\t\t\tnoOfLiterals: function(id, index) {\n\t\t\t\treturn data[id].graphs[index].number_of_literals;\n\t\t\t},\n\t\t\tclasses: { // class\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].graphs[index].number_of_classes;\n\t\t\t\t},\n\t\t\t\tjsonUri: function(id, index) {\n\t\t\t\t\treturn data[id].graphs[index].classes;\n\t\t\t\t},\n\t\t\t\tload: function(id, callback, index) {\n\t\t\t\t\tif (!self._graphClasses[id]) {\n\t\t\t\t\t\tself._graphClasses[id] = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (!self._graphClasses[id][index]) {\n\t\t\t\t\t\t$.getJSON(\n\t\t\t\t\t\t\tself.classes.jsonUri(id),\n\t\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\t\tself._graphClasses[id][index] = data;\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tclass: function(id, index, index2) {\n\t\t\t\t\treturn self._graphClasses[id][index2][index].class;\n\t\t\t\t},\n\t\t\t\tlabel: function(id, index, index2) {\n\t\t\t\t\treturn self._graphClasses[id][index2][index].label;\n\t\t\t\t},\n\t\t\t\tnoOfInstances: function(id, index, index2) {\n\t\t\t\t\treturn self._graphClasses[id][index2][index].number_of_instances;\n\t\t\t\t}\n\t\t\t},\n\t\t\tproperties: { // property\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].graphs[index].number_of_properties;\n\t\t\t\t},\n\t\t\t\tjsonUri: function(id, index) {\n\t\t\t\t\treturn data[id].graphs[index].properties;\n\t\t\t\t},\n\t\t\t\tload: function(id, callback, index) {\n\t\t\t\t\tif (!self._graphProperties[id]) {\n\t\t\t\t\t\tself._graphProperties[id] = [];\n\t\t\t\t\t}\n\t\t\t\t\tif (!self._graphProperties[id][index]) {\n\t\t\t\t\t\t$.getJSON(\n\t\t\t\t\t\t\tself.properties.jsonUri(id),\n\t\t\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\t\t\tself._graphProperties[id][index] = data;\n\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tproperty: function(id, index, index2) {\n\t\t\t\t\treturn self._graphProperties[id][index2][index].property;\n\t\t\t\t},\n\t\t\t\tnoOfTriples: function(id, index, index2) {\n\t\t\t\t\treturn self._graphProperties[id][index2][index].number_of_triples;\n\t\t\t\t},\n\t\t\t\tdomainClasses: {\n\t\t\t\t\tnoOf: function(id, index, index2) {\n\t\t\t\t\t\treturn self._graphProperties[id][index2][index].domain_classes.length;\n\t\t\t\t\t},\n\t\t\t\t\tdomainClass: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._graphProperties[id][index3][index2].domain_classes[index].domain_class;\n\t\t\t\t\t},\n\t\t\t\t\tlabel: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._graphProperties[id][index3][index2].domain_classes[index].label;\n\t\t\t\t\t},\n\t\t\t\t\tnoOfInstances: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._graphProperties[id][index3][index2].domain_classes[index].number_of_instances;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\trangeClasses: {\n\t\t\t\t\tnoOf: function(id, index, index2) {\n\t\t\t\t\t\treturn self._graphProperties[id][index2][index].range_classes.length;\n\t\t\t\t\t},\n\t\t\t\t\trangeClass: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._graphProperties[id][index3][index2].range_classes[index].range_class;\n\t\t\t\t\t},\n\t\t\t\t\tlabel: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._graphProperties[id][index3][index2].range_classes[index].label;\n\t\t\t\t\t},\n\t\t\t\t\tnoOfInstances: function(id, index, index2, index3) {\n\t\t\t\t\t\treturn self._graphProperties[id][index3][index2].range_classes[index].number_of_instances;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tdatatypes: { // datatype\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].graphs[index].number_of_datatypes;\n\t\t\t\t},\n\t\t\t\tdatatype: function(id, index, index2) {\n\t\t\t\t\treturn data[id].graphs[index2].datatypes[index];\n\t\t\t\t}\n\t\t\t},\n\t\t\txrefs: function(id, index, index2) { // TODO:\n\t\t\t\treturn data[id].graphs[index].xrefs;\n\t\t\t}\n\t\t};\n\n\t\t// tag\n\t\tthis.tags = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].tags.targets[__g.app.language].length + data[id].tags.information_types[__g.app.language].length;\n\t\t\t},\n\t\t\ttag: function(id, index) {\n\t\t\t\tvar obj = {}, lang,\n\t\t\t\t\t\ttargetsLength = data[id].tags.targets[__g.app.language].length;\n\t\t\t\tif (index < targetsLength) {\n\t\t\t\t\tfor (lang in data[id].tags.targets) {\n\t\t\t\t\t\tobj[lang] = data[id].tags.targets[lang][index];\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (lang in data[id].tags.targets) {\n\t\t\t\t\t\tobj[lang] = data[id].tags.information_types[lang][index - targetsLength];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t},\n\t\t\ttargets: {\n\t\t\t\tnoOf: function(id) {\n\t\t\t\t\treturn data[id].tags.targets[__g.app.language].length;\n\t\t\t\t},\n\t\t\t\ttarget: function(id, index) {\n\t\t\t\t\tvar obj = {};\n\t\t\t\t\tfor (var lang in data[id].tags.targets) {\n\t\t\t\t\t\tobj[lang] = data[id].tags.targets[lang][index];\n\t\t\t\t\t}\n\t\t\t\t\treturn obj;\n\t\t\t\t}\n\t\t\t},\n\t\t\tinformationTypes: {\n\t\t\t\tnoOf: function(id) {\n\t\t\t\t\treturn data[id].tags.information_types[__g.app.language].length;\n\t\t\t\t},\n\t\t\t\tinformationType: function(id, index) {\n\t\t\t\t\tvar obj = {};\n\t\t\t\t\tfor (var lang in data[id].tags.information_types) {\n\t\t\t\t\t\tobj[lang] = data[id].tags.information_types[lang][index];\n\t\t\t\t\t}\n\t\t\t\t\treturn obj;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// license\n\t\tthis.license = {\n\t\t\tname: function(id) {\n\t\t\t\treturn data[id].license.name;\n\t\t\t},\n\t\t\turi: function(id) {\n\t\t\t\treturn data[id].license.url;\n\t\t\t},\n\t\t\tcredit: function(id) {\n\t\t\t\treturn data[id].license.credit;\n\t\t\t}\n\t\t};\n\n\t\t// SPARQL\n\t\tthis.SPARQLExamples = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].sparql_examples.length;\n\t\t\t},\n\t\t\tsparql: function(id, index) {\n\t\t\t\treturn data[id].sparql_examples[index].sparql[__g.app.language];\n\t\t\t},\n\t\t\turi: function(id, index) {\n\t\t\t\treturn data[id].sparql_examples[index].url;\n\t\t\t}\n\t\t};\n\n\t\t// Stanza\n\t\tthis.stanza = {\n\t\t\tnoOf: function(id) {\n\t\t\t\treturn data[id].stanza ? data[id].stanza.length : 0;\n\t\t\t},\n\t\t\tid: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].id;\n\t\t\t},\n\t\t\tlabel: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].label;\n\t\t\t},\n\t\t\tdefinition: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].definition;\n\t\t\t},\n\t\t\tparameter: {\n\t\t\t\tnoOf: function(id, index) {\n\t\t\t\t\treturn data[id].stanza[index].parameter.length;\n\t\t\t\t},\n\t\t\t\tkey: function(id, index, index2) {\n\t\t\t\t\treturn data[id].stanza[index].parameter[index2].key;\n\t\t\t\t},\n\t\t\t\texample: function(id, index, index2) {\n\t\t\t\t\treturn data[id].stanza[index].parameter[index2].example;\n\t\t\t\t},\n\t\t\t\tdescription: function(id, index, index2) {\n\t\t\t\t\treturn data[id].stanza[index].parameter[index2].description;\n\t\t\t\t},\n\t\t\t\trequired: function(id, index, index2) {\n\t\t\t\t\treturn data[id].stanza[index].parameter[index2].required;\n\t\t\t\t}\n\t\t\t},\n\t\t\tusage: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].usage;\n\t\t\t},\n\t\t\ttype: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].type;\n\t\t\t},\n\t\t\tcontext: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].context;\n\t\t\t},\n\t\t\tdisplay: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].display;\n\t\t\t},\n\t\t\tprovider: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].provider;\n\t\t\t},\n\t\t\tlicense: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].license;\n\t\t\t},\n\t\t\tauthor: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].author;\n\t\t\t},\n\t\t\taddress: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].address;\n\t\t\t},\n\t\t\tcontributor: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].contributor;\n\t\t\t},\n\t\t\tcreated: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].created;\n\t\t\t},\n\t\t\tupdated: function(id, index) {\n\t\t\t\treturn data[id].stanza[index].updated;\n\t\t\t}\n\t\t};\n\n\t}\n\n\n\tnoOfDatasets() {\n\t\treturn Object.keys(this.data).length;\n\t}\n\n\tids() {\n\t\treturn Object.keys(this.data);\n\t}\n\tprovidedAs(id) {\n\t\treturn this.data[id].provided_as;\n\t}\n\treviewed(id) {\n\t\treturn this.data[id].reviewed;\n\t}\n\ttitle(id) {\n\t\treturn this.data[id].title;\n\t}\n\turi(id) {\n\t\treturn this.data[id].url;\n\t}\n\tprojectName(id) {\n\t\treturn this.data[id].project_name;\n\t}\n\tdataProvider(id) {\n\t\treturn this.data[id].data_provider;\n\t}\n\tdescription(id) {\n\t\treturn this.data[id].description;\n\t}\n\n\n\t// Guideline\n\tguideline(id) {\n\t\treturn this.data[id].guideline;\n\t}\n\n} // ********** end of Datasets class\n","/* global $ */\n\nimport {__g} from './global.js';\n\nconst\n\t_INTERVAL = 10,\n\t_DURATION = 5;\n\n/* ViewLabel Class\n\t ビューのラベル\n*/\nexport default class ViewLabel {\n\n\tconstructor() {\n\t\tthis._isChanging = false;\n\t\tthis._timerId;\n\t\tthis._index;\n\t\tthis._changingLable;\n\t\tthis._$label = $('#view-label');\n\n\t\t// メニューにマウスが載るとラベルを変更\n\t\t$('#global-navigation li[title]').on({\n\t\t\tmouseenter: (e) => this.changeLable(e.delegateTarget.title),\n\t\t\tmouseleave: () => this.changeLable(__g.VIEWS_LABEL[__g.app.currentView])\n\t\t});\n\t}\n\n\t// ラベルの変更定義\n\tchangeLable(label) {\n\t\tif (this._isChanging) {\n\t\t\t// 変更中であれば現在の変更をキャンセル\n\t\t\tif (label === this._changingLable) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twindow.clearTimeout(this._timerId);\n\t\t}\n\t\tthis._changingLable = label;\n\t\tthis._$label.text('');\n\t\tthis._index = 0;\n\t\tthis._isChanging = true;\n\t\tthis._timerId = window.setTimeout(this.changingLabel.bind(this), _INTERVAL);\n\t}\n\n\t// ラベルの変更\n\tchangingLabel() {\n\t\tthis._index++;\n\t\tconst\n\t\t\tindex = Math.floor(this._index / _DURATION),\n\t\t\tremainder = this._index % _DURATION;\n\t\tlet changingLable = this._changingLable.substr(0, index);\n\t\tif (remainder !== 0) {\n\t\t\tchangingLable = `${changingLable.slice(0, -1)}<span style=\"color: hsl(${Math.random() * 360}, 100%, ${100 * ((remainder) / _DURATION)}%);\">${String.fromCharCode(parseInt(97 + 25 * Math.random()))}</span>`;\n\t\t\t//changingLable = `${changingLable.slice(0, -1)}<span style=\"color: hsl(240, 50%, ${100 * ((remainder) / _DURATION)}%);\">${String.fromCharCode(parseInt(97 + 25 * Math.random()))}</span>`;\n\t\t}\n\t\tthis._$label.html(changingLable);\n\t\tif (this._index < this._changingLable.length * _DURATION) {\n\t\t\tthis._timerId = window.setTimeout(this.changingLabel.bind(this), _INTERVAL);\n\t\t} else {\n\t\t\tthis._isChanging = false;\n\t\t}\n\t}\n\n}\n","/* global $ */\n\nimport {__g, _html, _MLHtml, _sanitizeTag} from './global.js';\nconst _OPENED = 'opened';\n\n/* Control panel class\n * コンソールパネルクラス\n * \n */\nexport default class ControlPanel {\n\n\tconstructor() {\n\t\tconst\n\t\t\t_$controlPanel = $('#control-panel'),\n\t\t\t_$tagFilterButtonAll = $('#tag-filter-button-all'),\n\t\t\t_$tagMarker = $('#control-panel-tag-marker'),\n\t\t\t_$display = {\n\t\t\t\tlistView: {\n\t\t\t\t\tsortBy: $('#control-panel-display-list-view-sort-by').find('dd'),\n\t\t\t\t\tsortOrder: $('#control-panel-display-list-view-sort-order').find('dd')\n\t\t\t\t},\n\t\t\t\tgraphView: {\n\t\t\t\t\tscalingBy: $('#control-panel-display-graph-view-scaling-by').find('dd'),\n\t\t\t\t\tmarked: $('#control-panel-display-graph-view-marked').find('dd')\n\t\t\t\t}\n\t\t\t},\n\t\t\t_$markedTagButtons = {},\n\t\t\t_tags = {};\n\t\tthis._$tagFilters;\n\t\tthis._defaults = __g.userDefaults;\n\t\tthis._providedAs;\n\t\tthis._sort;\n\t\tthis._isAscend;\n\t\tthis._scaling;\n\t\tthis._filteringTags = [];\n\t\tthis._markedTag;\n\t\tthis._colorSchema = {};\n\n\t\t// コンパネの開閉\n\t\t$('#control-panel-icon, #control-panel-display').on('click', () => {\n\t\t\t_$controlPanel.toggleClass(_OPENED);\n\t\t\tthis._defaults.misc.isOpenedControlPanel = _$controlPanel.hasClass(_OPENED);\n\t\t});\n\n\t\t// prepare tags\n\t\t(() => {\n\t\t\tvar idFilter, id, ids = __g.app.datasets.ids(), tag, i, j, htmlFilter = '', htmlMarker = '', counter = 0;\n\n\t\t\t// タグの抽出\n\t\t\tfor (i = 0; i < ids.length; i++) {\n\t\t\t\tid = ids[i];\n\t\t\t\tfor (j = 0; j < __g.app.datasets.tags.noOf(id); j++) { // タグ\n\t\t\t\t\ttag = __g.app.datasets.tags.tag(id, j);\n\t\t\t\t\tif ( !_tags[tag.en] ) {\n\t\t\t\t\t\t_tags[tag.en] = tag;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// HTML生成\n\t\t\tthis._colorSchema.Invalid = '#CCC';\n\t\t\tfor (i in _tags) {\n\t\t\t\ttag = _sanitizeTag(i);\n\t\t\t\tthis._colorSchema[tag] = __g.COLORS[counter++];\n\t\t\t\tidFilter = 'tag-filter-' + tag;\n\t\t\t\thtmlFilter += // フィルター\n\t\t\t\t\t'<dd>' +\n\t\t\t\t\t\t_html('input', { type: 'checkbox', name: idFilter, id: idFilter, value: tag }, '') +\n\t\t\t\t\t\t_MLHtml('label', { for: idFilter }, _tags[i]) +\n\t\t\t\t\t'</dd>';\n\t\t\t\thtmlMarker += // マーカー\n\t\t\t\t\t'<dd data-value=\"' + tag + '\">' +\n\t\t\t\t\t\t_html('label',\n\t\t\t\t\t\t\t_html('span', { class: 'color-ball', style: 'border-color: ' + this._colorSchema[tag] }, '' ) +\n\t\t\t\t\t\t\t_MLHtml(_tags[i])\n\t\t\t\t\t\t) +\n\t\t\t\t\t'</dd>';\n\t\t\t\t// Stylesheet\n\t\t\t\t__g.styleSheet.insertRule( 'ul.tags li.tag-' + tag + ':before { background-color: ' + this._colorSchema[tag] + '; }', __g.styleSheet.cssRules.length );\n\t\t\t}\n\t\t\t$('#control-panel-tag-filter').append(htmlFilter);\n\t\t\t_$tagMarker.append(htmlMarker);\n\t\t\t// マーカータグを格納\n\t\t\t_$markedTagButtons.Invalid = $('dd[data-value=\"Invalid\"]', _$tagMarker);\n\t\t\tfor (i in _tags) {\n\t\t\t\ttag = _sanitizeTag(i);\n\t\t\t\t_$markedTagButtons[tag]  = $('dd[data-value=\"' + tag + '\"]', _$tagMarker);\n\t\t\t}\n\n\t\t})();\n\n\t\t// events\n\t\t// オリジナル、ミラー\n\t\t$('#control-panel-provided-as-filter')\n\t\t\t.find('input[name=\"provided-as\"]')\n\t\t\t\t.on('change', e => {\n\t\t\t\t\tthis._providedAs = e.currentTarget.value;\n\t\t\t\t\tthis._defaults.all.providedAs = this._providedAs;\n\t\t\t\t\t__g.app.postNortification('change-provided-as', this._providedAs);\n\t\t\t\t});\n\n\t\t// ソート\n\t\t$('#control-panel-sort')\n\t\t\t.find('input[name=\"sort\"]')\n\t\t\t\t.on('change', e => {\n\t\t\t\t\tthis._sort = e.delegateTarget.value;\n\t\t\t\t\tthis._defaults.list.sortBy = this._sort;\n\t\t\t\t\t__g.app.postNortification('change-sorting', this._sort);\n\t\t\t\t\t__g.app.$main.get(0).setAttribute('data-kind-of-sort', this._sort);\n\t\t\t\t\t_$display.listView.sortBy.html(e.delegateTarget.nextElementSibling.innerHTML);\n\t\t\t\t})\n\t\t\t.end()\n\t\t\t.find('input[name=\"ascend\"]') // 昇順降順\n\t\t\t\t.on('change', e => {\n\t\t\t\t\tthis._isAscend = e.delegateTarget.value === 'ascend';\n\t\t\t\t\tthis._defaults.list.isAscend = this._isAscend;\n\t\t\t\t\t__g.app.postNortification('change-sorting', this._isAscend);\n\t\t\t\t\t\t_$display.listView.sortOrder.html(e.delegateTarget.nextElementSibling.innerHTML);\n\t\t\t\t});\n\n\t\t// サイジング\n\t\t$('#control-panel-scaling').find('input').on('change', e => {\n\t\t\tthis._scaling = e.delegateTarget.value;\n\t\t\tthis._defaults.graph.scaling = this._scaling;\n\t\t\t__g.app.postNortification('change-scaling', this._scaling);\n\t\t\t_$display.graphView.scalingBy.html(e.delegateTarget.nextElementSibling.innerHTML);\n\t\t});\n\n\t\t// フィルタータグ\n\t\tthis._$tagFilters = $('#control-panel-tag-filter').find('input').on('change', () => {\n\t\t\tthis._filteringTags = [];\n\t\t\tthis._$tagFilters.each((index, elm) => {\n\t\t\t\tif (elm.checked) {\n\t\t\t\t\tthis._filteringTags.push(elm.value);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis._defaults.list.filteringTags = this._filteringTags;\n\t\t\t__g.app.postNortification('change-filtering-tags', this._filteringTags);\n\t\t});\n\n\t\t// 全タグ選択ボタン\n\t\t_$tagFilterButtonAll.on('click', () => {\n\t\t\tthis._filteringTags = [];\n\t\t\tthis._$tagFilters.each((index, elm) => {\n\t\t\t\telm.checked = true;\n\t\t\t\tthis._filteringTags.push(elm.value);\n\t\t\t});\n\t\t\tthis._defaults.list.filteringTags = this._filteringTags;\n\t\t\t__g.app.postNortification('change-filtering-tags', this._filteringTags);\n\t\t});\n\n\t\t// 全タグ選択解除ボタン\n\t\t$('#tag-filter-button-all-deselected').on('click', () => {\n\t\t\tthis._filteringTags = [];\n\t\t\tthis._$tagFilters.each((index, elm) => {\n\t\t\t\telm.checked = false;\n\t\t\t});\n\t\t\tthis._defaults.list.filteringTags = this._filteringTags;\n\t\t\t__g.app.postNortification('change-filtering-tags', this._filteringTags);\n\t\t});\n\n\t\t// マーカータグ\n\t\t$('#control-panel-tag-marker').find('dd').on({\n\t\t\tclick: e => {\n\t\t\t\t//var value = this.dataset.value;\n\t\t\t\t_$markedTagButtons[this._markedTag].find('span.color-ball').css('background-color', 'transparent');\n\t\t\t\tthis._markedTag = e.delegateTarget.getAttribute('data-value');\n\t\t\t\tthis._defaults.graph.markedTag = this._markedTag;\n\t\t\t\t__g.app.postNortification('change-marker-tag', { tag: this._markedTag, color: this._colorSchema[this._markedTag] });\n\t\t\t\t_$markedTagButtons[this._markedTag].find('span.color-ball').css('background-color', this._colorSchema[this._markedTag]);\n\t\t\t\t_$display.graphView.marked.html(_MLHtml(_tags[this._markedTag]));\n\t\t\t}\n\t\t});\n\n\t\t// user default から値をとる\n\t\tthis._providedAs = this._defaults.all.providedAs;\n\t\tthis._sort = this._defaults.list.sortBy;\n\t\tthis._isAscend = this._defaults.list.isAscend;\n\t\tthis._filteringTags = this._defaults.list.filteringTags;\n\t\tthis._scaling = this._defaults.graph.scaling;\n\t\tthis._markedTag = this._defaults.graph.markedTag;\n\t\tif (this._filteringTags === null) {\n\t\t\t_$tagFilterButtonAll.trigger('click');\n\t\t}\n\n\t\t// 値を input にセット\n\t\tif (this._defaults.misc.isOpenedControlPanel) {\n\t\t\t_$controlPanel.addClass(_OPENED);\n\t\t}\n\t\t$('#control-panel-provided-as-filter').find(`input[value=\"${this._providedAs}\"]`).prop('checked', true).triggerHandler('change');\n\t\t$('#control-panel-sort').find(`input[value=\"${this._sort}\"]`).prop('checked', true).triggerHandler('change');\n\t\t$(this._isAscend ? '#sort-ascend' : '#sort-descend').prop('checked', true).triggerHandler('change');\n\t\tthis._$tagFilters.each((index, elm) => {\n\t\t\tif (this._filteringTags.indexOf(elm.value) !== -1) {\n\t\t\t\tthis.checked = true;\n\t\t\t}\n\t\t});\n\t\t$('#control-panel-scaling').find('input[value=\"' + this._scaling + '\"]').prop('checked', true).triggerHandler('change');\n\t\t_$markedTagButtons[this._markedTag].triggerHandler('click');\n\n\t}\n\n\n\t// accessor\n\tprovidedAsFilter() { return this._providedAs };\n\tkindOfSorting() { return this._sort; }\n\tisAscend() { return this._isAscend; }\n\tkindOfScaling() { return this._scaling; }\n\tselectedFilteringTags() { return this._filteringTags; }\n\tselectedMarkedTag() { return { tag: this._markedTag, color: this._colorSchema[this._markedTag] }; }\n\tcolor(tag) { return this._colorSchema[tag]; }\n\n\t// 選択されたタグ以外は非選択に\n\tselectFilteringTag(tag) {\n\t\tthis._filteringTags = [];\n\t\tthis._$tagFilters.each((index, elm) => {\n\t\t\tif (elm.value === tag) {\n\t\t\t\telm.checked = true;\n\t\t\t\tthis._filteringTags.push(elm.value);\n\t\t\t} else {\n\t\t\t\telm.checked = false;\n\t\t\t}\n\t\t});\n\t\tthis._defaults.list.filteringTags = this._filteringTags;\n\t\t__g.app.postNortification('change-filtering-tags', this._filteringTags);\n\t}\n\n\t//changeView(kindOfView) {\n\t//};\n\n} // ********** end of Control panel class\n","/* global $, d3 */\n\nimport {__g, _html, _MLHtml, _numeral, _sanitizeTag} from './global.js';\nimport StarImage from './StarImage.js';\nimport ListViewController from './ListViewController.js';\nimport MatrixViewController from './MatrixViewController.js';\nimport DetailViewController from './DetailViewController.js';\n\nconst\n\tOPENING_RADIAL = 60,\n\tSIZE = [\n\t\t{ REGULAR:  40, MIN:  40, MAX:  40 }, // home\n\t\t{ REGULAR:  80, MIN:  80, MAX:  80 }, // list\n\t\t{ REGULAR:  32, MIN:  32, MAX:  32 }, // matrix\n\t\t{ REGULAR:  24, MIN:  12, MAX:  80 }, // graph\n\t\t{ REGULAR: 120, MIN: 120, MAX: 120 }  // detail\n\t],\n\t//MAX_SIZE = 256,\n\t//MIN_SIZE = 16,\n\tLIST_MIN_HEIGHT = 100;\nlet\n\tcount = 0;\n\n/* Star class\n * 星に見立てたデータセットを表すノードクラス\n * @param param object\n * \n */\nexport default class Star {\n\n\tconstructor(_elm, _data) {\n\t\tthis._datasets = __g.app.datasets; // shortcut\n\t\tthis._$ = $(_elm);\n\t\tthis._data = _data;\n\t\tthis._$icon;\n\t\tthis._$h;\n\t\tthis._$tagHalo;\n\t\tthis._$numberOf;\n\t\tthis._id;\n\t\tthis._isInternal; // 寄託されたデータセットか\n\t\tthis._key;\n\t\tthis._size = SIZE[__g.VIEWS.network].REGULAR;\n\t\tthis._tags = [];\n\t\tthis._matrix = {\n\t\t\trows: []\n\t\t};\n\t\tthis._mouseDownPosition;\n\n\t\t// initialize\n\t\tconst\n\t\t\t_d3 = d3.select(_elm),\n\t\t\t_order = count++,\n\t\t\t_radius = (2 * Math.PI) * (_order / __g.app.datasets.noOfDatasets());\n\t\tthis._id = _d3.datum().key;\n\t\tthis._isInternal = _d3.datum().isInternal; // 寄託されたデータセットか\n\t\tthis._key = this._isInternal ? this._id : __g.app.xrefs[this._id].key;\n\t\tif (this._isInternal) { // 寄託データベースの場合\n\t\t\tthis._$\n\t\t\t\t.addClass('star' + ((() => {\n\t\t\t\t\tlet tagClass = '';\n\t\t\t\t\tfor (let i = 0; i < this._datasets.tags.noOf(this._id); i++) {\n\t\t\t\t\t\ttagClass += ` tag-${_sanitizeTag( this._datasets.tags.tag(this._id, i).en )}`;\n\t\t\t\t\t}\n\t\t\t\t\treturn tagClass;\n\t\t\t\t})()))\n\t\t\t\t.attr('data-provided-as', this._datasets.providedAs(this._id))\n\t\t\t\t.append(\n\t\t\t\t\t'<div class=\"icon\">' +\n\t\t\t\t\t\t'<div class=\"body\"></div>' +\n\t\t\t\t\t\t'<div class=\"tag-halo\"></div>' +\n\t\t\t\t\t\t(this._datasets.reviewed(this._id) === 'reviewed' ? '<div class=\"reviewed-icon\"></div>' : '') +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t(() => {\n\t\t\t\t\t\tvar title = this._datasets.title(this._id), html = '';\n\t\t\t\t\t\tfor (var i in title) {\n\t\t\t\t\t\t\thtml += _html('h2', { title: title[i], lang: i }, title[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn html;\n\t\t\t\t\t})() +\n\t\t\t\t\t'<p class=\"number-of\"><span class=\"numeral\"></span><small></small></p>'\n\t\t\t\t)\n\t\t\t\t.css({\n\t\t\t\t\tleft: window.innerWidth * 0.5 + Math.cos(_radius) * OPENING_RADIAL,\n\t\t\t\t\ttop: window.innerHeight * 0.5 + Math.sin(_radius) * OPENING_RADIAL\n\t\t\t\t})\n\t\t\t\t.attr('data-id', this._id);\n\t\t\t// 参照\n\t\t\tthis._$icon = $('.icon', this._$).on('click', () => {\n\t\t\t\tthis._$.trigger('mouseleave');\n\t\t\t\t__g.app.selectedStar(this._id);\n\t\t\t});\n\t\t\tthis._$h = $('h2', this._$);\n\t\t\tthis._$tagHalo = this._$icon.find('.tag-halo');\n\t\t\tthis._$numberOf = $('.number-of', this._$);\n\t\t\t// リンク情報の付与\n\t\t\tlet i;\n\t\t\tfor (i = 0; i < this._datasets.connectedDatasetIds.noOf(this._id); i++) {\n\t\t\t\tthis._$.addClass( 'to-' + this._datasets.connectedDatasetIds.id(this._id, i) );\n\t\t\t}\n\t\t\tfor (i = 0; i < this._datasets.xref.noOf(this._id); i++) {\n\t\t\t\tthis._$.addClass( 'to-' + __g.app.xrefs[this._datasets.xref.title(this._id, i)].key );\n\t\t\t}\n\t\t\t// logotype\n\t\t\tnew StarImage(this._id, this._$, () => { __g.app.appPrepareDecrement(); });\n\t\t\t// tag\n\t\t\tfor (i = 0; i < this._datasets.tags.noOf(this._id); i++) {\n\t\t\t\tthis._tags.push( _sanitizeTag( this._datasets.tags.tag(this._id, i).en ) );\n\t\t\t}\n\t\t} else { // 外部データベースの場合\n\t\t\tthis._$\n\t\t\t\t.addClass('star xref')\n\t\t\t\t.append('<div class=\"icon\"></div><h2>' + this._id + '</h2>' );\n\t\t\tthis._$icon = $('.icon', this._$);\n\t\t\tfor (var i = 0; i < __g.app.xrefs[this._id].connectedDatasets.length; i++) {\n\t\t\t\tthis._$.addClass( 'to-' + __g.app.xrefs[this._id].connectedDatasets[i].connectedDatasetId );\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// ノードのサイズ\n\t_sizing(sizing) {\n\t\tvar number, denominator, currentView = __g.app.currentView, size = SIZE[currentView];\n\t\tsizing = sizing === undefined ? __g.controlPanel.kindOfScaling() : sizing;\n\t\tif (sizing === 'None') { // サイジング無指定の場合は、固定の幅\n\t\t\tthis._size = size.REGULAR;\n\t\t\tthis._$numberOf.text('');\n\t\t} else { // サイジングが指定されている場合は、サイズを最大値から割り出す\n\t\t\tswitch (sizing) {\n\t\t\t\tcase 'Classes':\n\t\t\t\t\tnumber = __g.app.datasets.noOfClasses(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.class;\n\t\t\t\tbreak;\n\t\t\t\tcase 'Instances':\n\t\t\t\t\tnumber = __g.app.datasets.noOfInstances(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.instance;\n\t\t\t\tbreak;\n\t\t\t\tcase 'Literals':\n\t\t\t\t\tnumber = __g.app.datasets.noOfLiterals(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.literal;\n\t\t\t\tbreak;\n\t\t\t\tcase 'Objects':\n\t\t\t\t\tnumber = __g.app.datasets.noOfObjects(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.object;\n\t\t\t\tbreak;\n\t\t\t\tcase 'Properties':\n\t\t\t\t\tnumber = __g.app.datasets.noOfProperties(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.property;\n\t\t\t\tbreak;\n\t\t\t\tcase 'Subjects':\n\t\t\t\t\tnumber = __g.app.datasets.noOfSubjects(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.subject;\n\t\t\t\tbreak;\n\t\t\t\tcase 'Triples':\n\t\t\t\t\tnumber = __g.app.datasets.noOfTriples(this._id);\n\t\t\t\t\tdenominator = __g.app.maxValue.triple;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis._size = this._isInternal ? size.MIN + (size.MAX - size.MIN) * (Math.sqrt(number) / denominator) : size.MIN;\n\t\t\tthis._$numberOf.html(`\n\t\t\t\t<span class=\"numeral\">${number.toLocaleString()}</span>\n\t\t\t\t<small>${sizing.toLowerCase()}</small>\n\t\t\t`);\n\t\t}\n\t\tthis._$icon.css({\n\t\t\twidth: this._size,\n\t\t\theight: this._size\n\t\t});\n\t\tswitch (currentView) {\n\t\t\tcase __g.VIEWS.graph: {\n\t\t\t\tthis._$h.css('top', this._size * 0.5 + 6);\n\t\t\t\tthis._$numberOf.css('top', this._size * 0.5 + 18);\n\t\t\t}\n\t\t}\n\n\t} // function _sizing\n\n\t// ビューの変更\n\tchangeView(/*kindOfView, currentStarId*/) {\n\t\t// 形状のリセット\n\t\tif (this._isInternal) {\n\t\t\tthis._$.stop(true, true);\n\t\t\tthis._$icon.css({ width: '', height: '', marginLeft: '', marginTop: '' });\n\t\t\tthis._$h.css({ top: '' });\n\t\t}\n\t}\n\n\tprepareHomeView() {\n\t}\n\n\tprepareListView(order, top, delegate) {\n\t\t\n\t\tvar height = 0, hidden = true,\n\t\t\t\ttags = __g.controlPanel.selectedFilteringTags();\n\n\t\tif (this._isInternal) { // 寄託データベースの場合\n\n\t\t\t// filtering\n\t\t\tfor (let i = 0; i < this._tags.length; i++) {\n\t\t\t\tif (\n\t\t\t\t\ttags.indexOf(this._tags[i]) !== -1 && \n\t\t\t\t\t(__g.controlPanel.providedAsFilter() === 'all' ||\n\t\t\t\t\t__g.controlPanel.providedAsFilter() === 'original' &&\n\t\t\t\t\tthis._datasets.providedAs(this._id) === 'original')\n\t\t\t\t\t) {\n\t\t\t\t\thidden = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hidden) {\n\t\t\t\tthis._$.addClass('hidden');\n\t\t\t\treturn height;\n\t\t\t}\n\t\t\tthis._$.removeClass('hidden');\n\n\t\t\t// size\n\t\t\tthis._sizing();\n\n\t\t\t// layout\n\t\t\theight = this._size < LIST_MIN_HEIGHT ? LIST_MIN_HEIGHT : this._size;\n\t\t\tthis._$.animate({\n\t\t\t\ttop: top + height * 0.5,\n\t\t\t\tleft: ListViewController.ORIGIN.X\n\t\t\t}, {\n\t\t\t\tduration: __g.DURATION + order * 100,\n\t\t\t\teasing: 'easeInOutSine',\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tthis._$.addClass('placed');\n\t\t\t\t\t// make information\n\t\t\t\t\tif (this._$.children('.appendix.list-view').length === 0) { // ディティールがない場合生成\n\t\t\t\t\t\tthis._$.append(\n\t\t\t\t\t\t\t'<div class=\"appendix list-view\">' +\n\t\t\t\t\t\t\t\t_MLHtml('p', { class: 'description' }, this._datasets.description(this._id)) + \n\t\t\t\t\t\t\t\t_html('ul', { class: 'tags' },\n\t\t\t\t\t\t\t\t\t(() => {\n\t\t\t\t\t\t\t\t\t\tvar html = '', i, tag1, tag2;\n\t\t\t\t\t\t\t\t\t\tfor (i = 0; i < this._datasets.tags.noOf(this._id); i++) {\n\t\t\t\t\t\t\t\t\t\t\ttag1 = this._datasets.tags.tag(this._id, i);\n\t\t\t\t\t\t\t\t\t\t\ttag2 = _sanitizeTag(tag1.en);\n\t\t\t\t\t\t\t\t\t\t\thtml += _MLHtml('li', { class: 'tag-' + tag2, 'data-tag': tag2 }, tag1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn html;\n\t\t\t\t\t\t\t\t\t})()\n\t\t\t\t\t\t\t\t) +\n\t\t\t\t\t\t\t\t_html('div', { class: 'left-element' },\n\t\t\t\t\t\t\t\t\t_html('p', { class: 'number-of-triples' },\n\t\t\t\t\t\t\t\t\t\t_numeral(this._datasets.noOfTriples(this._id).toLocaleString()) + '<small>triples</small>'\n\t\t\t\t\t\t\t\t\t) + \n\t\t\t\t\t\t\t\t\t_html('p', { class: 'last-update' }, this._datasets.issued(this._id)) + \n\t\t\t\t\t\t\t\t\t_html('p', { class: 'institution' }, _MLHtml(this._datasets.dataProvider(this._id)))\n\t\t\t\t\t\t\t\t) + \n\t\t\t\t\t\t\t'</div>'\n\t\t\t\t\t\t);\n\t\t\t\t\t\tthis._$.find('ul.tags').find('li').on('click', () => {\n\t\t\t\t\t\t\t__g.controlPanel.selectFilteringTag(this.dataset.tag);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tdelegate.placedStar();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn height;\n\t}\n\n\tprepareLeaveFromListView() {\n\t\tthis._$.removeClass('placed');\n\t}\n\n\tprepareMatrixView(order, delegate) {\n\t\tconst top = MatrixViewController.ORIGIN.Y + (order * MatrixViewController.CELL.HEIGHT);\n\t\tthis._$\n\t\t\t.addClass('placing')\n\t\t\t.animate({\n\t\t\t\tleft: 96,\n\t\t\t\ttop: top + MatrixViewController.CELL.HEIGHT * 0.5\n\t\t\t}, {\n\t\t\t\tduration: __g.DURATION + order * 100,\n\t\t\t\teasing: 'easeInOutSine',\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tdelegate.placedStar();\n\t\t\t\t\tthis._$.removeClass('placing');\n\t\t\t\t}\n\t\t\t});\n\t\tthis._matrix.rows = $('#matrix-body').find('.id-' + this._id).css({\n\t\t\ttop: top\n\t\t});\n\t}\n\n\tmatrixReplace(order) {\n\t\tvar properties = {\n\t\t\t\t\ttop: MatrixViewController.ORIGIN.Y + (order * MatrixViewController.CELL.HEIGHT)\n\t\t\t\t},\n\t\t\t\toptions = {\n\t\t\t\t\tduration: __g.DURATION + order * 100,\n\t\t\t\t\teasing: 'easeInOutSine'\n\t\t\t\t};\n\t\tthis._matrix.rows.animate(properties, options);\n\t\tproperties.top += MatrixViewController.CELL.HEIGHT * 0.5;\n\t\tthis._$.animate(properties, options);\n\t}\n\n\tprepareGraphView() {\n\n\t\t// 星をホバーすると関連する星が浮かび上がる\n\t\tthis._$.on({\n\t\t\t'mouseenter.graphView': () => {\n\t\t\t\t__g.app.$main.addClass(__g.CLASS.STAR_HOVERING);\n\t\t\t\t$('.to-' + this._key, __g.app.$stars).addClass(__g.CLASS.CONNECTED_STAR_HOVERING);\n\t\t\t\t__g.d3.edges.selectAll('.to-' + this._key + ', .from-' + this._key).classed(__g.CLASS.CONNECTED_STAR_HOVERING, true);\n\t\t\t},\n\t\t\t'mouseleave.graphView': () => {\n\t\t\t\t__g.app.$main.removeClass(__g.CLASS.STAR_HOVERING);\n\t\t\t\t$('.' + __g.CLASS.CONNECTED_STAR_HOVERING, __g.app.$stars).removeClass(__g.CLASS.CONNECTED_STAR_HOVERING);\n\t\t\t\t__g.d3.edges.selectAll('.' + __g.CLASS.CONNECTED_STAR_HOVERING).classed(__g.CLASS.CONNECTED_STAR_HOVERING, false);\n\t\t\t}\n\t\t});\n\n\t\tif (this._isInternal) { // 寄託データベースの場合\n\t\t\tthis._sizing();\n\t\t\tthis.receiveNotificationChangeTagMarker( __g.controlPanel.selectedMarkedTag() );\n\t\t\t// コンパネのタグにマウスが当たると、同じタグを持つ星がハイライト\n\t\t\t__g.app.addNotificationObserver('change-marker-tag', this, this.receiveNotificationChangeTagMarker);\n\t\t} else { // 外部データベースの場合\n\t\t\tthis._size = SIZE[__g.VIEWS.network].MIN;\n\t\t\tthis._$.on({\n\t\t\t\t// drag すると mouseenter が効かなくなる\n\t\t\t\t//'mousedown.graphView': function(e) {\n\t\t\t\t//\tconsole.log(e)\n\t\t\t\t//\tthis._mouseDownPosition = { x: e.clientX, y: e.clientY };\n\t\t\t\t//},\n\t\t\t\t//'mouseup': e => {\n\t\t\t\t//\tconsole.log(this._mouseDownPosition)\n\t\t\t\t//\tif (Math.abs(this._mouseDownPosition.x - e.clientX) < 2 && Math.abs(this._mouseDownPosition.y - e.clientY) < 2) {\n\t\t\t\t//\t\twindow.open(__g.app.xrefs[this._id].connectedDatasets[0].uri); \n\t\t\t\t//\t}\n\t\t\t\t//}\n\t\t\t\tclick: () => {\n\t\t\t\t\twindow.open(__g.app.xrefs[this._id].connectedDatasets[0].uri); \n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprepareLeaveFromGraphView() {\n\t\tthis._$.off('mouseenter.graphView mouseleave.graphView');\n\t\tif (this._isInternal) {\n\t\t\tthis._sizing();\n\t\t\t__g.app.removeNotificationObserver('change-marker-tag', this);\n\t\t\tthis._$.removeClass(__g.CLASS.TAG_HOVERING);\n\t\t} else {\n\t\t\tthis._$.off('mousedown.graphView mouseup.graphView');\n\t\t}\n\t}\n\n\treceiveNotificationChangeTagMarker(param) {\n\t\tif (this._tags.indexOf(param.tag) !== -1) {\n\t\t\tthis._$.addClass(__g.CLASS.TAG_HOVERING);\n\t\t\tthis._$tagHalo.css('background-color', param.color);\n\t\t} else {\n\t\t\tthis._$.removeClass(__g.CLASS.TAG_HOVERING);\n\t\t}\n\t}\n\n\tprepareDetailView(currentStarId) {\n\t\tif (currentStarId === this._id) {\n\t\t\t// 当該スターであった場合の処理\n\t\t\tthis._$\n\t\t\t\t.addClass('selected')\n\t\t\t\t.animate({\n\t\t\t\t\tleft: DetailViewController.ORIGIN.X,\n\t\t\t\t\ttop: DetailViewController.ORIGIN.Y\n\t\t\t\t}, {\n\t\t\t\t\tduration: __g.DURATION * 2,\n\t\t\t\t\teasing: 'easeOutCubic',\n\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\tthis._$.css({\n\t\t\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\t\t\tleft: DetailViewController.ORIGIN.X - DetailViewController.OFFSET.X,\n\t\t\t\t\t\t\ttop: DetailViewController.ORIGIN.Y - DetailViewController.OFFSET.Y\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t} else {\n\t\t\t// 当該スターでなかった場合の処理\n\t\t\tthis._$.removeClass('selected');\n\t\t}\n\t}\n\n\tprepareLeaveFromDetailView() {\n\t\tif (this._$.hasClass('selected')) {\n\t\t\tvar position = this._$.position();\n\t\t\tthis._$.css({\n\t\t\t\tposition: '',\n\t\t\t\tleft: position.left + DetailViewController.OFFSET.X,\n\t\t\t\ttop: position.top + DetailViewController.OFFSET.Y\n\t\t\t});\n\t\t}\n\t}\n\n\t// 化身がクリックされた際に呼ばれ、ディティールビューに遷移\n\tclickedAlias(elm) {\n\t\tvar $icon = $('.icon', elm),\n\t\t\t\twidth = $icon.width();\n\t\tthis._$.css({\n\t\t\tleft: elm.offsetLeft + width * 0.5,\n\t\t\ttop: elm.offsetTop + width * 0.5\n\t\t});\n\t\tthis._$icon.trigger('click');\n\t}\n\n\t// accessor\n\tget size() {\n\t\treturn this._size;\n\t}\n\n} // ********** end of Star class\n","/* global $, page, d3 */\n\nimport {isDebug, $w, __g} from './global.js';\nimport HomeViewController from './HomeViewController.js';\nimport ListViewController from './ListViewController.js';\nimport MatrixViewController from './MatrixViewController.js';\nimport GraphViewController from './GraphViewController.js';\nimport ManualViewController from './ManualViewController.js';\nimport GuidelineViewController from './GuidelineViewController.js';\nimport ChangeLogViewController from './ChangeLogViewController.js';\nimport DetailViewController from './DetailViewController.js';\nimport Datasets from './Datasets.js';\nimport ViewLabel from './ViewLabel.js';\nimport ControlPanel from './ControlPanel.js';\nimport Star from './Star.js';\n\nconst\n\t_MAIN_VIEW_LEFT = 60,\n\t_MAIN_VIEW_RIGHT = 0,\n\t_MAIN_VIEW_TOP = 10,\n\t_MAIN_VIEW_BOTTOM = 10;\n\n/* RDF Portal class\n * 当ウェブアプリの全体を司るクラス\n * グローバルに参照できるようにする\n * \n */\nexport default class RDFPortal {\n\n\tconstructor() {\n\t\tthis._appPrepareCounter = 0;\n\t\tthis._currentView = -1;\n\t\tthis._currentStarId;\n\t\tthis._notifications = {};\n\t\tthis._homeViewController;\n\t\tthis._listViewController;\n\t\tthis._matrixViewController;\n\t\tthis._graphViewController;\n\t\tthis._manualViewController;\n\t\tthis._guidelineViewController;\n\t\tthis._changeLogViewController;\n\t\tthis._detailViewController;\n\t\tthis._$navButtons;\n\t\tthis._isChanging = false;\n\t\tthis._changeId;\n\n\t\t// デバッグモード\n\t\tif (isDebug) {\n\t\t\t// force 用のコンソール\n\t\t\t$('.stars').after(`\n\t\t\t\t<section id=\"force-layout-console\">\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">linkDistance</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-linkDistance\" data-key=\"linkDistance\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">linkStrength</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-linkStrength\" data-key=\"linkStrength\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">friction</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-friction\" data-key=\"friction\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">charge</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-charge\" data-key=\"charge\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">chargeDistance</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-chargeDistance\" data-key=\"chargeDistance\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">theta</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-theta\" data-key=\"theta\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<label for=\"FLLinkDistance\">gravity</label>\n\t\t\t\t\t\t\t<input type=\"text\" id=\"FL-gravity\" data-key=\"gravity\">\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</section>\n\t\t\t`);\n\t\t}\n\n\t}\n\n\t// アプリの開始\n\t_startApp() {\n\t\tconst urlParameter = {};\n\n\t\t// ロゴ色の取得\n\t\t//$.adaptiveBackground.run();\n\n\t\t// URL パラメータからページ状態の復帰\n\t\turlParameter.view = window.location.pathname ? window.location.pathname.substr(1) : 'home';\n\n\t\t// ビューの特定\n\t\tif (urlParameter.id) {\n\t\t\tthis._currentStarId = urlParameter.id;\n\t\t}\n\n\t\t// ルーター\n\t\tpage(__g.rootPath + 'dataset/:id', this.routeDetail.bind(this));\n\t\tpage(__g.rootPath + 'documents/:id', this.routeDocuments.bind(this));\n\t\tpage(__g.rootPath + ':pagetype', this.route.bind(this));\n\t\tpage(__g.rootPath + '', this.route.bind(this));\n\t\tpage.start();\n\t\t\n\t\t// スプラッシュスクリーンの消失\n\t\t$('#splash-screen').addClass('vanish').delay(3000).queue(function(){\n\t\t\t$(this).remove();\n\t\t});\n\t\t//change-log 更新内容\n\t\t//キャッシュしない\n\t\t$.ajaxSetup({\n\t\t  cache: false\n\t\t});\n\t}\n\n\t// notification\n\taddNotificationObserver(notificationName, observer, functionObj) {\n\t\tif (!this._notifications[notificationName]) {\n\t\t\tthis._notifications[notificationName] = [];\n\t\t}\n\t\tvar isMatch = false;\n\t\tfor (var i = 0; i < this._notifications[notificationName].length; i++) {\n\t\t\tvar notification = this._notifications[notificationName][i];\n\t\t\tif (notification.observer === observer) {\n\t\t\t\tisMatch = true;\n\t\t\t}\n\t\t}\n\t\tif (!isMatch) {\n\t\t\tthis._notifications[notificationName].push({\n\t\t\t\tobserver: observer,\n\t\t\t\tfunction: functionObj\n\t\t\t});\n\t\t}\n\t}\n\tremoveNotificationObserver(notificationName, observer) {\n\t\tif (this._notifications[notificationName]) {\n\t\t\tfor (var i = 0; i < this._notifications[notificationName].length; i++) {\n\t\t\t\tvar notification = this._notifications[notificationName][i];\n\t\t\t\tif (notification.observer === observer) {\n\t\t\t\t\tthis._notifications[notificationName].splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tpostNortification(notificationName, val) {\n\t\tif (this._notifications[notificationName]) {\n\t\t\tfor (var i = 0; i < this._notifications[notificationName].length; i++) {\n\t\t\t\tconst notification = this._notifications[notificationName][i];\n\t\t\t\tnotification.function.call(notification.observer, val);\n\t\t\t}\n\t\t}\n\t}\n\n\t// accessor\n\tget currentStarId() { return this._currentStarId; }\n\tget currentView() { return this._currentView; }\n\tisChanging() { return this._isChanging; }\n\n\t// ロゴ画像が読み込まれるとデクリメント\n\tappPrepareDecrement() {\n\t\tthis._appPrepareCounter--;\n\t\tif (this._appPrepareCounter === 0) {\n\t\t\tthis._startApp();\n\t\t}\n\t}\n\n\t// ビューの変更\n\tchangeView(kindOfView, params) {\n\n\t\t// 変更中であれば無効\n\t\tif (this._isChanging) return;\n\n\t\tconst labelOfView = __g.VIEWS_NAME[kindOfView];\n\t\tif (labelOfView === __g.VIEWS_NAME[__g.VIEWS.dataset]) {\n\t\t\t// dataset ページの場合\n\t\t\tpage(`${__g.rootPath}${labelOfView}/${params.id}`);\n\t\t} else if(labelOfView === 'home') {\n\t\t\t// home ページの場合\n\t\t\tpage(`${__g.rootPath}`);\n\t\t} else {\n\t\t\t// それ以外の場合\n\t\t\tpage(`${__g.rootPath}${labelOfView}`);\n\t\t}\n\t}\n\tchanged(id, height) {\n\t\tif (this._changeId === id) {\n\t\t\tthis._isChanging = false;\n\t\t\t$w.trigger('resize');\n\t\t\t$('html, body').animate({\n\t\t\t\t\tscrollTop: 0\n\t\t\t\t}, {\n\t\t\t\t\tduration: 200\n\t\t\t\t});\n\t\t\tthis.$main.css('height', height);\n\t\t}\n\t}\n\n\t// router\n\trouteDetail(context, next) {\n\t\tthis._currentStarId = context.params.id; // 現在 dataset view で指しているページの定義\n\t\tthis.render(__g.VIEWS_NAME.indexOf('dataset'), context.params);\n\t}\n\trouteDocuments(context, next) {\n\t\tthis.render(__g.VIEWS_NAME.indexOf('documents'), context.params);\n\t}\n\troute(context, next) {\n\t\tlet kindOfView = __g.VIEWS_NAME.indexOf(context.params.pagetype);\n\t\tkindOfView = kindOfView === -1 || context.params.pagetype === 'dataset' ? 0 : kindOfView;\n\t\tthis.render(kindOfView);\n\t}\n\trender(kindOfView, params) {\n\t\tif (\n\t\t\tkindOfView === __g.VIEWS.dataset ||\n\t\t\tkindOfView === __g.VIEWS.documents ||\n\t\t\tkindOfView !== this._currentView) {\n\n\t\t\t// 現状のビューの終了\n\t\t\tif (this._currentView !== -1) {\n\t\t\t\tswitch (this._currentView) {\n\t\t\t\t\tcase __g.VIEWS.home: this._homeViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.datasets: this._listViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.statistics: this._matrixViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.network: this._graphViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.documents: this._manualViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.guideline: this._guidelineViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.changeLog: this._changeLogViewController.hide(); break;\n\t\t\t\t\tcase __g.VIEWS.dataset: this._detailViewController.hide(); break;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// ビューの変更\n\t\t\tthis._currentView = kindOfView;\n\t\t\t// スクリーンに属性付与\n\t\t\t$('body').attr('data-kind-of-view', __g.VIEWS_NAME[kindOfView]);\n\t\t\tthis.$main.attr('data-kind-of-view', __g.VIEWS_NAME[kindOfView]);\n\t\t\t// 星たちに通知\n\t\t\tthis.stars.forEach((star) => {\n\t\t\t\tstar.changeView(kindOfView, this.currentStarId);\n\t\t\t});\n\t\t\t// コンパネに通知\n\t\t\t//__g.controlPanel.changeView(kindOfView);\n\t\t\t// navigation\n\t\t\tthis.viewLabel.changeLable(__g.VIEWS_LABEL[this._currentView]);\n\t\t\t//_$navLabel.text( __g.VIEWS_LABEL[this._currentView] );\n\t\t\tthis._$navButtons.each(function(){\n\t\t\t\tthis.className = this.getAttribute('data-kind-of-view') === __g.VIEWS_NAME[kindOfView] ? 'current' : '';\n\t\t\t});\n\t\t\t// ビュー管理用関数の呼び出し\n\t\t\tswitch (kindOfView) {\n\t\t\t\tcase __g.VIEWS.home:\n\t\t\t\t\t//this._homeViewController.show();\n\t\t\t\t\tthis.currentViewController = this._homeViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.datasets:\n\t\t\t\t\tthis.currentViewController = this._listViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.statistics:\n\t\t\t\t\tthis.currentViewController = this._matrixViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.network:\n\t\t\t\t\tthis.currentViewController = this._graphViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.documents:\n\t\t\t\t\tthis.currentViewController = this._manualViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.guideline:\n\t\t\t\t\tthis.currentViewController = this._guidelineViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.changeLog:\n\t\t\t\t\tthis.currentViewController = this._changeLogViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tcase __g.VIEWS.dataset:\n\t\t\t\t\tthis.currentViewController = this._detailViewController;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.currentViewController = null;\n\t\t\t\t\twindow.console.log('該当する画面がありません: ', __g.VIEWS_LABEL[kindOfView] );\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.currentViewController.show(params);\n\t\t\t// 遷移状態に\n\t\t\tthis._isChanging = true;\n\t\t\tthis._changeId = this._currentView;\n\t\t}\n\t\t\n\t}\n\n\t// スターの選択\n\tselectedStar(id) {\n\t\tif (__g.app.currentView !== __g.VIEWS.dataset |this.currentStarId !== id) {\n\t\t\t// ビューの変更\n\t\t\tthis.changeView(__g.VIEWS.dataset, { id: id });\n\t\t}\n\t}\n\n\t// JSON読み込み後、初期化\n\tinit(data) {\n\t\tconst self = this;\n\t\tvar id, ids, idIndices = {}, i, j, newStyle,\n\t\t\t\tscreenWidth, screenHeight;\n\n\t\tthis.$main = $('main#main-view');\n\t\tthis.$stars = this.$main.children('.stars');\n\t\tthis.$star = undefined;\n\t\tthis.viewLabel = new ViewLabel();\n\t\tthis.$offScreenCanvas = $('main#main-view');\n\t\tthis.language = __g.userDefaults.misc.language;\n\t\tthis.datasets = new Datasets(data);\n\t\tthis.mainView = {\n\t\t\tcenter: { x: 0, y: 0 },\n\t\t\tsize: { width: 0, height: 0 }\n\t\t};\n\t\tthis.stars = [];\n\t\tthis.starsWithKeys = {};\n\t\tthis.xrefs = {};\n\t\tthis.currentViewController = undefined;\n\t\tthis.maxValue = {\n\t\t\tclass: 0,\n\t\t\tinstance: 0,\n\t\t\tliteral: 0,\n\t\t\tobject: 0,\n\t\t\tproperty: 0,\n\t\t\tsubject: 0,\n\t\t\ttriple: 0\n\t\t};\n\t\tthis._appPrepareCounter = this.datasets.noOfDatasets() + 1;\n\n\t\t// Stylesheet\n\t\tnewStyle = document.createElement('style');\n\t\tnewStyle.type = 'text/css';\n\t\tdocument.getElementsByTagName('head').item(0).appendChild(newStyle);\n\t\t__g.styleSheet = document.styleSheets[document.styleSheets.length - 1];\n\n\t\t// SVG\n\t\t__g.d3.edges = __g.d3.svg.append('g').attr('class', 'edges');\n\n\t\t// 各ビューのコントローラ生成\n\t\tthis._homeViewController = new HomeViewController();\n\t\tthis._listViewController = new ListViewController();\n\t\tthis._matrixViewController = new MatrixViewController();\n\t\tthis._graphViewController = new GraphViewController();\n\t\tthis._manualViewController = new ManualViewController();\n\t\tthis._guidelineViewController = new GuidelineViewController();\n\t\tthis._changeLogViewController = new ChangeLogViewController();\n\t\tthis._detailViewController = new DetailViewController();\n\t\tthis.currentViewController = this._homeViewController;\n\n\t\t// ナビゲーション：ビュー切り替え\n\t\tthis._$navButtons = $('#global-navigation').children('ul').children('li[data-kind-of-view]')\n\t\t\t.on('click', e => {\n\t\t\t\tconst kindOfView = e.delegateTarget.getAttribute('data-kind-of-view');\n\t\t\t\tthis.changeView( __g.VIEWS_NAME.indexOf(kindOfView) );\n\t\t\t});\n\t\t// ナビゲーション：ロケール切り替え\n\t\t$('#language-switch').find('li').on('click', e => {\n\t\t\t$('html').attr('lang', e.delegateTarget.getAttribute('data-lang'));\n\t\t\tthis.language = e.delegateTarget.getAttribute('data-lang');\n\t\t\t__g.userDefaults.misc.language = this.language;\n\t\t});\n\t\t$('#language-switch').find('li[data-lang=\"' + this.language + '\"]').trigger('click');\n\n\t\t// コンソールパネル\n\t\t__g.controlPanel = new ControlPanel();\n\n\t\t// データセットの基本情報の取得\n\t\tids = this.datasets.ids();\n\t\tfor (i = 0; i < ids.length; i++) {\n\t\t\tid = ids[i];\n\t\t\tvar keys = {\n\t\t\t\tclass: 'noOfClasses',\n\t\t\t\tinstance: 'noOfInstances',\n\t\t\t\tliteral: 'noOfLiterals',\n\t\t\t\tobject: 'noOfObjects',\n\t\t\t\tproperty: 'noOfProperties',\n\t\t\t\tsubject: 'noOfSubjects',\n\t\t\t\ttriple: 'noOfTriples'\n\t\t\t};\n\t\t\tfor (j in keys) {\n\t\t\t\tthis.maxValue[j] = (this.maxValue[j] < this.datasets[keys[j]](id)) ? this.datasets[keys[j]](id) : this.maxValue[j];\n\t\t\t}\n\t\t}\n\t\tfor (i in this.maxValue) {\n\t\t\tthis.maxValue[i] = Math.sqrt(this.maxValue[i]);\n\t\t}\n\n\t\t// メインビューの矩形定義\n\t\t$w\n\t\t\t.on('resize.mainViewControl', () => { // ウインドウサイズの変動でメインビューをリサイズ\n\t\t\t\tthis.mainView.size.height = $w.innerHeight() - _MAIN_VIEW_TOP - _MAIN_VIEW_BOTTOM;\n\t\t\t\tthis.mainView.size.width = $w.innerWidth() - _MAIN_VIEW_LEFT - _MAIN_VIEW_RIGHT;\n\t\t\t\tthis.$main.css({\n\t\t\t\t\theight: this.mainView.size.height,\n\t\t\t\t\twidth: this.mainView.size.width\n\t\t\t\t});\n\t\t\t\t// SVG\n\t\t\t\t__g.d3.svg\n\t\t\t\t\t.attr('width', this.mainView.size.width - __g.SVG_MARGIN_LEFT)\n\t\t\t\t\t.attr('height', this.mainView.size.height);\n\t\t\t\tif (__g.d3.force) {\n\t\t\t\t\t__g.d3.force\n\t\t\t\t\t\t.force('center', d3.forceCenter(this.mainView.size.width * 0.5, this.mainView.size.height * 0.5))\n\t\t\t\t\t\t.restart();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.trigger('resize.mainViewControl');\n\n\t\t// force layout\n\t\t{\n\t\t\t// ノードの生成\n\t\t\tfor (i = 0; i < ids.length; i++) {\n\t\t\t\tid = ids[i];\n\t\t\t\t__g.d3.nodesData.push({ key: id, isInternal: true });\n\t\t\t\t// クロスリファレンスの抽出\n\t\t\t\tfor (j = 0; j < this.datasets.xref.noOf(id); j++) {\n\t\t\t\t\tvar title = this.datasets.xref.title(id, j);\n\t\t\t\t\tif (!this.xrefs[title]) {\n\t\t\t\t\t\tthis.xrefs[title] = {\n\t\t\t\t\t\t\tkey: title.replace(/\\s/g, '_'),\n\t\t\t\t\t\t\tconnectedDatasets: []\n\t\t\t\t\t\t};\n\t\t\t\t\t\t__g.d3.nodesData.push({ key: title, isInternal: false });\n\t\t\t\t\t}\n\t\t\t\t\tthis.xrefs[title].connectedDatasets.push({\n\t\t\t\t\t\tconnectedDatasetId: id,\n\t\t\t\t\t\turi: this.datasets.xref.uri(id, j),\n\t\t\t\t\t\tnumberOfTriples: this.datasets.xref.noOfTriples(id, j),\n\t\t\t\t\t\ttype: this.datasets.xref.type(id, j)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\t// D3\n\t\t\t__g.d3.nodesSelection = d3.select('main#main-view div.stars').selectAll('div.star')\n\t\t\t\t.data(__g.d3.nodesData)\n\t\t\t\t.enter()\n\t\t\t\t.append('div');\n\t\t\t__g.d3.nodesSelection.each(function(data){\n\t\t\t\tvar star = new Star(this, data);\n\t\t\t\tself.stars.push(star); // 各スター（ノード）を保持る配列\n\t\t\t\tdata.star = star;\n\t\t\t\tself.starsWithKeys[ data.key ] = star; // 各スター（ノード）を保持る連想配列\n\t\t\t});\n\t\t\t// jQuery\n\t\t\tthis.$star = $('main#main-view').children('.stars').children('.star');\n\n\t\t\t// リンク（エッジ）の生成\n\t\t\tfor (i = 0; i < __g.d3.nodesData.length; i++) {\n\t\t\t\tidIndices[__g.d3.nodesData[i].key] = i; // ノードIDの並び順をキーバリュー形式で格納\n\t\t\t}\n\t\t\tfor (i = 0; i < __g.d3.nodesData.length; i++) {\n\t\t\t\tid = __g.d3.nodesData[i].key;\n\t\t\t\tvar connectedId;\n\t\t\t\tif (__g.d3.nodesData[i].isInternal) {\n\t\t\t\t\t// 内部リンク\n\t\t\t\t\tfor (j = 0; j < this.datasets.connectedDatasetIds.noOf(id); j++) {\n\t\t\t\t\t\tconnectedId = this.datasets.connectedDatasetIds.id(id, j);\n\t\t\t\t\t\t__g.d3.linksData.push({\n\t\t\t\t\t\t\tsource: i,\n\t\t\t\t\t\t\ttarget: idIndices[connectedId],\n\t\t\t\t\t\t\tsourceId: id,\n\t\t\t\t\t\t\ttargetId: connectedId,\n\t\t\t\t\t\t\tnumberOfTriples: this.datasets.connectedDatasetIds.noOfTriple(id, j),\n\t\t\t\t\t\t\ttype: this.datasets.connectedDatasetIds.type(id, j)\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// 外部リンク\n\t\t\t\t\tfor (j = 0; j < this.xrefs[id].connectedDatasets.length; j++) {\n\t\t\t\t\t\tconnectedId = this.xrefs[id].connectedDatasets[j].connectedDatasetId;\n\t\t\t\t\t\t__g.d3.linksData.push({\n\t\t\t\t\t\t\tsource: i,\n\t\t\t\t\t\t\ttarget: idIndices[connectedId],\n\t\t\t\t\t\t\tsourceId: this.xrefs[id].key,\n\t\t\t\t\t\t\ttargetId: connectedId,\n\t\t\t\t\t\t\tnumberOfTriples: this.xrefs[id].connectedDatasets[j].numberOfTriples,\n\t\t\t\t\t\t\ttype: this.xrefs[id].connectedDatasets[j].type\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// D3\n\t\t\t__g.d3.linksSelection = __g.d3.edges.selectAll('.link')\n\t\t\t\t.data(__g.d3.linksData)\n\t\t\t\t.enter()\n\t\t\t\t.append('line');\n\t\t\t__g.d3.linksSelection.each(function(){ // エッジをトリプル数により強度をつける\n\t\t\t\tvar d3This = d3.select(this),\n\t\t\t\t\t\tdatum = d3This.datum(),\n\t\t\t\t\t\tratio = Math.log(datum.numberOfTriples) / Math.log(self.maxValue.triple),\n\t\t\t\t\t\topacity = 0.1 + 0.9 * ratio,\n\t\t\t\t\t\twidth = 1 + 0.5 * ratio,\n\t\t\t\t\t\tclassed = 'from-' + datum.sourceId + ' to-' + datum.targetId;\n\t\t\t\tthis.style.stroke = 'rgba(255, 255, 255, ' + opacity + ')';\n\t\t\t\tthis.style.strokeWidth = width;\n\t\t\t\td3This.classed( 'edge ' + classed, true );\n\t\t\t\t// triple number\n\t\t\t\tthis.d3NumberOfTriples = __g.d3.edges.append('text')\n\t\t\t\t\t.classed(classed, true);\n\t\t\t\tthis.d3NumberOfTriples.append('tspan')\n\t\t\t\t\t.classed('number-of-triples', true)\n\t\t\t\t\t.text(datum.numberOfTriples.toLocaleString());\n\t\t\t\tif (datum.type) {\n\t\t\t\t\tthis.d3NumberOfTriples.append('tspan')\n\t\t\t\t\t\t.classed('type', true)\n\t\t\t\t\t\t.attr('dx', 5)\n\t\t\t\t\t\t.text(datum.type);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// force layout\n\t\t\tscreenWidth = parseInt(__g.d3.svg.attr('width'));\n\t\t\tscreenHeight = parseInt(__g.d3.svg.attr('height'));\n\t\t\t__g.d3.force = d3.forceSimulation()\n\t\t\t\t//.velocityDecay(0.1) // ノードの速度減衰係数\n\t\t\t\t.alpha(0.0025)\n\t\t\t\t//.alphaDecay(0.9)\n\t\t\t\t.alphaTarget(0)\n\t\t\t\t.force('link', // リンクによるバネ力\n\t\t\t\t\td3.forceLink()\n\t\t\t\t\t\t//.distance(distance) // リンクの長さ\n\t\t\t\t\t\t//.strength(.5) // リンクの強度\n\t\t\t\t\t\t//.iterations() // 計算回数\n\t\t\t\t)\n\t\t\t\t//.force('collide', // ノード間の接触反発力\n\t\t\t\t//\td3.forceCollide()\n\t\t\t\t//\t\t.radius(function(d) { return d.star.size * .5; }) // ノード半径\n\t\t\t\t//\t\t.strength(1.0) // オーバーラップするノード間の反発力 0.0〜1.0\n\t\t\t\t//\t\t.iterations(16) // 計算回数\n\t\t\t\t//)\n\t\t\t\t.force('charge', // ノード間のクーロン力（非接触作用力）\n\t\t\t\t\td3.forceManyBody()\n\t\t\t\t\t\t//.strength(-300) // 正でくっつき、負で離れる\n\t\t\t\t\t\t//.theta() // 精度\n\t\t\t\t\t\t//.distanceMin() // クーロン力を計算する最小距離\n\t\t\t\t\t\t//.distanceMax() // ノード間の最大距離\n\t\t\t\t)\n\t\t\t\t.force('x', // 位置に基づく場の力\n\t\t\t\t\td3.forceX()\n\t\t\t\t\t\t.strength(0.1)\n\t\t\t\t\t\t.x(0) // 中心x座標\n\t\t\t\t)\n\t\t\t\t.force('y', // 位置に基づく場の力\n\t\t\t\t\td3.forceY()\n\t\t\t\t\t\t.strength(0.1)\n\t\t\t\t\t\t.y(0) // 中心y座標\n\t\t\t\t)\n\t\t\t\t//.force('center',\n\t\t\t\t//\td3.forceCenter(screenWidth * 0.5, screenHeight * 0.5)\n\t\t\t\t//);\n\t\t\t// ノード\n\t\t\t__g.d3.force\n\t\t\t\t.nodes(__g.d3.nodesData);\n\t\t\t// エッジ\n\t\t\t__g.d3.force\n\t\t\t\t.force('link')\n\t\t\t\t\t.links(__g.d3.linksData);\n\n\t\t\t// force layout のパラメータ確認用のコンソール\n\t\t\t$('#force-layout-console').find('input')\n\t\t\t\t.each(function(){\n\t\t\t\t\t//this.value = __g.d3.force[this.dataset.key]();\n\t\t\t\t})\n\t\t\t\t.on('change', function(){\n\t\t\t\t\t//__g.d3.force[this.dataset.key]( parseFloat(this.value) ).resume();\n\t\t\t\t});\n\n\t\t\t// ドラッグ可能に\n\t\t\t__g.d3.nodesSelection.call(d3.drag()\n\t\t\t\t.on('start', d => {\n\t\t\t\t\tif(!d3.event.active) __g.d3.force.alphaTarget(0.3).restart();\n\t\t\t\t\td.fx = d.x;\n\t\t\t\t\td.fy = d.y;\n\t\t\t\t})\n\t\t\t\t.on('drag', d => {\n\t\t\t\t\td.fx = d3.event.x;\n\t\t\t\t\td.fy = d3.event.y;\n\t\t\t\t})\n\t\t\t\t.on('end', d => {\n\t\t\t\t\tif(!d3.event.active) __g.d3.force.alphaTarget(0);\n\t\t\t\t\td.fx = null;\n\t\t\t\t\td.fy = null;\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\t// 準備カウンタを1つ減らす\n\t\tthis.appPrepareDecrement();\n\n\t}\n\n} // ********** end of RDFPortal class","/* global $ */\n\nconst DEFAULTS = 'defaults';\n\n/* User defaults class\n * 初期設定クラス\n * \n */\nexport default class UserDefaults {\n\n\tconstructor() {\n\t\tthis.defaults = {\n\t\t\tall: {\n\t\t\t\tprovidedAs: 'original'\n\t\t\t},\n\t\t\tlist: {\n\t\t\t\tsortBy: 'LastUpdate',\n\t\t\t\tisAscend: true,\n\t\t\t\tfilteringTags: null\n\t\t\t},\n\t\t\tmatrix: {\n\t\t\t\tsortBy: 'Triples',\n\t\t\t\tcolItems: [\n\t\t\t\t\t{ name: 'Alphabetical', isAscend: true },\n\t\t\t\t\t{ name: 'Triples', isAscend: true },\n\t\t\t\t\t{ name: 'Links', isAscend: true },\n\t\t\t\t\t{ name: 'Classes', isAscend: true },\n\t\t\t\t\t{ name: 'Instances', isAscend: true },\n\t\t\t\t\t{ name: 'Literals', isAscend: true },\n\t\t\t\t\t{ name: 'Subjects', isAscend: true },\n\t\t\t\t\t{ name: 'Properties', isAscend: true },\n\t\t\t\t\t{ name: 'Objects', isAscend: true }\n\t\t\t\t\t]\n\t\t\t},\n\t\t\tgraph: {\n\t\t\t\tscaling: 'None',\n\t\t\t\tmarkedTag: 'Invalid'\n\t\t\t},\n\t\t\tmisc: {\n\t\t\t\tlanguage: 'en',\n\t\t\t\tisOpenedControlPanel: true\n\t\t\t}\n\t\t};\n\t\tthis._defaults;\n\t\t$.cookie.json = true;\n\t\tconst self = this;\n\n\t\tif ($.cookie(DEFAULTS)) {\n\t\t\tthis._defaults = $.cookie(DEFAULTS);\n\t\t} else  {\n\t\t\tthis._defaults = $.extend(true, {}, this.defaults);\n\t\t}\n\n\t\t// check user defaults\n\t\tvar _check = function(obj1, obj2){\n\t\t\tfor(var i in obj2){\n\t\t\t\tif (obj1[i] === undefined || typeof obj1[i] !== typeof obj2[i]) {\n\t\t\t\t\tthrow 'unmatch';\n\t\t\t\t} else {\n\t\t\t\t\tswitch(typeof obj2[i]) {\n\t\t\t\t\t\tcase 'object':\n\t\t\t\t\t\tcase 'array':\n\t\t\t\t\t\t\t_check(obj1[i], obj2[i]);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\ttry {\n\t\t\t_check(this._defaults, this.defaults);\n\t\t} catch(e) {\n\t\t\twindow.console.log(e);\n\t\t\tthis._defaults = $.extend(true, {}, this.defaults);\n\t\t}\n\n\t\tthis.all = {\n\t\t\tget providedAs() {\n\t\t\t\treturn self._defaults.all.providedAs;\n\t\t\t},\n\t\t\tset providedAs(val) {\n\t\t\t\tself._defaults.all.providedAs = val;\n\t\t\t}\n\t\t};\n\t\tthis.home = {\n\t\t};\n\t\tthis.list = {\n\t\t\tget sortBy() {\n\t\t\t\treturn self._defaults.list.sortBy;\n\t\t\t},\n\t\t\tset sortBy(val) {\n\t\t\t\tself._defaults.list.sortBy = val;\n\t\t\t},\n\t\t\tget isAscend() {\n\t\t\t\treturn self._defaults.list.isAscend;\n\t\t\t},\n\t\t\tset isAscend(val) {\n\t\t\t\tself._defaults.list.isAscend = val;\n\t\t\t},\n\t\t\tget filteringTags() {\n\t\t\t\treturn self._defaults.list.filteringTags;\n\t\t\t},\n\t\t\tset filteringTags(val) {\n\t\t\t\tself._defaults.list.filteringTags = val;\n\t\t\t}\n\t\t};\n\t\tthis.matrix = {\n\t\t\tget sortBy() {\n\t\t\t\treturn self._defaults.matrix.sortBy;\n\t\t\t},\n\t\t\tset sortBy(val) {\n\t\t\t\tself._defaults.matrix.sortBy = val;\n\t\t\t},\n\t\t\tget colItems() {\n\t\t\t\treturn self._defaults.matrix.colItems;\n\t\t\t},\n\t\t\tset colItems(val) {\n\t\t\t\tself._defaults.matrix.colItems = val;\n\t\t\t}\n\t\t};\n\t\tthis.graph = {\n\t\t\tget scaling() {\n\t\t\t\treturn self._defaults.graph.scaling;\n\t\t\t},\n\t\t\tset scaling(val) {\n\t\t\t\tself._defaults.graph.scaling = val;\n\t\t\t},\n\t\t\tget markedTag() {\n\t\t\t\treturn self._defaults.graph.markedTag;\n\t\t\t},\n\t\t\tset markedTag(val) {\n\t\t\t\tself._defaults.graph.markedTag = val;\n\t\t\t}\n\t\t};\n\t\tthis.detail = {\n\t\t};\n\t\tthis.misc = {\n\t\t\tget language() {\n\t\t\t\treturn self._defaults.misc.language;\n\t\t\t},\n\t\t\tset language(val) {\n\t\t\t\tself._defaults.misc.language = val;\n\t\t\t},\n\t\t\tget isOpenedControlPanel() {\n\t\t\t\treturn self._defaults.misc.isOpenedControlPanel;\n\t\t\t},\n\t\t\tset isOpenedControlPanel(val) {\n\t\t\t\tself._defaults.misc.isOpenedControlPanel = val;\n\t\t\t}\n\t\t};\n\n\t}\n\n\n\tsynchronize() {\n\t\t$.cookie(DEFAULTS, this._defaults);\n\t}\n\n} // ********** end of UserDefaults class\n","/*global $, d3 */\nimport {$w, __g} from './global.js';\n\nimport RDFPortal from './RDFPortal.js';\nimport UserDefaults from './UserDefaults.js';\n\n\n$(function() {\n\t__g.d3.svg = d3.select('main#main-view').append('svg').attr('id', 'svg');\n\n\t// ガイドラインの取得\n\t$('#guideline-view').find('.guideline-outline li').each((index, elm) => {\n\t\tconst $this = $(elm);\n\t\t__g.guideline[$this.find('.guideline-number').text()] = $this.find('.guideline-statement').text();\n\t});\n\n\t// dataset の json ファイルをロードしたらアプリケーションの初期化\n\t$.getJSON(\n\t\t'strings.json',\n\t\tfunction(data) {\n\t\t\t__g.STRINGS = data;\n\t\t\t$.getJSON(\n\t\t\t\t'data/datasets.json',\n\t\t\t\tdata => init(data)\n\t\t\t);\n\t\t}\n\t);\n\tfunction init(data) {\n\t\t__g.userDefaults = new UserDefaults();\n\t\t__g.app = new RDFPortal();\n\t\t__g.app.init(data);\n\t\t// ウインドウを閉じる際に諸情報を保存\n\t\t$w.on('unload', () => __g.userDefaults.synchronize());\n\t}\n\n});\n"],"names":["$w","$","window","__g","VIEWS","home","datasets","statistics","network","documents","guideline","changeLog","dataset","VIEWS_NAME","VIEWS_LABEL","VIEW_LABEL_DETAIL","STAR_TYPE","first","connected","STRINGS","COLORS","DURATION","DETAIL_DELAY","CLASS","STAR_HOVERING","TAG_HOVERING","CONNECTED_STAR_HOVERING","DETAIL_MARGIN","DETAIL_MARGIN_RIGHT","DATA_LENGTH","SVG_MARGIN_LEFT","d3","svg","undefined","edges","nodesData","nodesSelection","linksData","linksSelection","force","disposableStarId","canvasId","controlPanel","userDefaults","styleSheet","rootPath","host","location","pathname","path","indexOf","_html","tag","attr","html","arguments","length","attrObje","attrHtml","i","_MLHtml","MLtext","lang","_numeral","value","_htmlAnchor","uri","label","href","target","_MLAnchor","isString","uri2","_htmlTR","key","_htmlTRValueNumeral","_htmlTRHasDetailValueNumeral","_htmlTRHasDetailValueNumeral2","kind","jsonUri","classification","index","_htmlTRDetail","detailHtml","_htmlHasDetailAndDetail","item","app","starId","currentStarId","STR","noOf","class","colspan","subHtml","_htmlStatics","HYPHEN","DATASETS","NO_OF_CLASSES","classes","NO_OF_PROPERTIES","properties","NO_OF_DATATYPES","datatypes","noOfFiles","files","subHtml2","description","subHtml3","name","size","subjects","noOfSubjects","objects","noOfObjects","literals","noOfLiterals","instances","noOfInstances","numberOfInstances","triples","noOfTriples","numberOfTriples","j","datatype","_sort","kindOfSorting","isAscend","mapper","functionName","sortedIds","ids","id","title","language","push","sort","a","b","dataProvider","date","issued","split","Date","getTime","_sanitizeTag","replace","_placeComma","elm","find","each","textContent","classList","remove","add","_CORN","NUMBER_OF_LINE","ORIGIN","X","Y","ELLIPSE","POSITIONS","RATIO","RESOLUTION","RADIUS","SHOW_DURATION","HomeViewController","_isInitialized","_d3Corn","$view","y","radian1","radian2","radian3","radius","append","Math","PI","cos","sin","on","getAttribute","trigger","statisticsItems","noOfLinks","sampleString","figure","ceil","processedNumber","round","roundedString","toLocaleString","d","source","x","style","stop","setTimeout","changed","innerHeight","bind","ListViewController","_placedStarCoutner","$stars","makeList","addNotificationObserver","receiveNotificationChangeSorting","receiveNotificationChangeFilter","placeStars","$main","not","css","width","triggerHandler","top","height","starsWithKeys","prepareListView","off","removeNotificationObserver","stars","prepareLeaveFromListView","MatrixItemView","colItem","order","delegate","_$matrix","_$head","_$body","sum","_sortedIds","left","CELL","WIDTH","MatrixScrollbarView","_delegate","_matrixWidth","_widthRatio","_scrollBarWidth","_$scrollArea","children","_$scrollBar","draggable","axis","containment","drag","event","obj","position","_$inner","offset","range","scrollLeft","_matrixOverallWidth","innerWidth","matrixHeight","_matrixOverallHeight","bottom","display","HEIGHT","PADDING_BOTTOM","PADDING_RIGHT","MatrixViewController","_sortBy","_sortedColItems","_scrollBar","_$colItems","matrix","sortBy","colItems","makeMatrix","$star","e","delegateTarget","addClass","removeClass","prepareMatrixView","filter","$cell","contains","data","mouseenter","mouseleave","enable","itemName","matrixReplace","forEach","disable","GraphViewController","receiveNotificationChangeSizing","d3NumberOfTriples","parseFloat","restart","star","prepareGraphView","prepareLeaveFromGraphView","forceCollide","strength","iterations","PATH","ManualViewController","params","documentName","when","ajax","url","dataType","done","en","ja","contents","content","htmlText","marked","htmlElements","parseHTML","$container","section","document","createElement","nodeType","Node","ELEMENT_NODE","tagName","appendChild","CodeMirror","fromTextArea","mode","matchBrackets","lineNumbers","self","GuidelineViewController","MAX","ChangeLogViewController","_$","getJSON","logJson","$homeChangeLogH2","_changeLog","change_log","min","log","after","changeView","article","$targetArticle","animate","scrollTop","duration","EXCLUSIVE_WORDS","CANVAS_SIZE","CANVAS_MARGIN","FONT_SIZE","offScreenCanvasContainer","StarImage","_id","_$container","_callback","_logotypeUrl","_img","_bgColor","_$img","getElementById","logotypeUrl","Image","src","complete","generateIconFromImg","onload","onerror","generateIconFromText","canvas","className","titleWords","acronym","fontSize","textMaxWidth","ctx","metrics","charAt","toUpperCase","generateCanvas","getContext","fillStyle","arc","fill","textAlign","textBaseline","font","measureText","fillText","toDataURL","removeChild","generateIcon","dx","dy","dw","dh","beginPath","clip","naturalWidth","naturalHeight","drawImage","payload","color","OFFSET","DetailViewController","_counter","_$currentDetailView","_$frame","makeDetailView","ID_SPECIFICATION","ID_CONNECTED_DATASETS","ID_STATISTICS","ID_SCHEMA","ID_SPARQL_EXAMPLES","$connectedDataset","$detailNavigationItems","_$schemaImages","noOfConnectedDatasets","connectedDatasetIds","xref","noOfSPARQLExamples","SPARQLExamples","noOfSchema","schema","disposableStarIds","cmEditor","cmEditors","console","prepareDetailView","launch","specification","tags","creators","numberOfCreators","affiliation","version","license","credit","status","reviewed","unreviewed","providedAs","originalDataset","thirdPartyDataset","downloadFile","subHtml1","connectedDatasetIDs","type","maxTriples","noOfXrefs","noOfTriple","imageUri","open","sparqlExamples","sparql","action","method","sparqlEndpoint","setSize","$stanza","parents","$iframe","$parameters","substring","$parameter","text","val","$target","scrollBottom","parentNode","clickedAlias","_setDetailCollapsible","isCollapsible","isOpened","isLoaded","jsonKind","parseInt","$this","$closer","next","$closerInner","outerHeight","load","_makeCollapsedTable","$tbody","anchor","noOfDomainClasses","noOfRangeClasses","property","domainClasses","rangeClasses","subHtml4","subHtml5","k","rowspan","domainClass","rangeClass","more","delay","opacity","prepareLeaveFromDetailView","Datasets","_noOfDatasets","_classes","_graphClasses","_ontologyClasses","_properties","_graphProperties","_ontologyProperties","logo_url","schema_image_urls","download_file","number_of_triples","number_of_instances","number_of_subjects","number_of_objects","number_of_literals","noOfClasses","number_of_classes","noOfProperties","number_of_properties","noOfDatatypes","number_of_datatypes","number_of_links","callback","domain_classes","index2","domain_class","range_classes","range_class","xrefs","uri_space","connected_dataset_ids","ontologies","index3","graphs","targets","information_types","targetsLength","informationTypes","informationType","sparql_examples","stanza","definition","parameter","example","required","usage","context","provider","author","address","contributor","created","updated","Object","keys","provided_as","project_name","data_provider","_INTERVAL","_DURATION","ViewLabel","_isChanging","_timerId","_index","_changingLable","_$label","changeLable","currentView","clearTimeout","changingLabel","floor","remainder","changingLable","substr","slice","random","String","fromCharCode","_OPENED","ControlPanel","_$controlPanel","_$tagFilterButtonAll","_$tagMarker","_$display","listView","sortOrder","graphView","scalingBy","_$markedTagButtons","_tags","_$tagFilters","_defaults","_providedAs","_isAscend","_scaling","_filteringTags","_markedTag","_colorSchema","toggleClass","misc","isOpenedControlPanel","hasClass","idFilter","htmlFilter","htmlMarker","counter","Invalid","for","insertRule","cssRules","currentTarget","all","postNortification","list","get","setAttribute","nextElementSibling","innerHTML","end","graph","scaling","checked","filteringTags","click","markedTag","prop","OPENING_RADIAL","SIZE","REGULAR","MIN","LIST_MIN_HEIGHT","count","Star","_elm","_data","_datasets","_$icon","_$h","_$tagHalo","_$numberOf","_isInternal","_key","_size","_matrix","rows","_mouseDownPosition","_d3","select","_order","_radius","noOfDatasets","datum","isInternal","tagClass","selectedStar","appPrepareDecrement","connectedDatasets","connectedDatasetId","sizing","number","denominator","kindOfScaling","maxValue","instance","literal","object","subject","triple","sqrt","toLowerCase","marginLeft","marginTop","hidden","selectedFilteringTags","providedAsFilter","_sizing","easing","tag1","tag2","selectFilteringTag","placedStar","options","selectAll","classed","receiveNotificationChangeTagMarker","selectedMarkedTag","param","$icon","offsetLeft","offsetTop","_MAIN_VIEW_LEFT","_MAIN_VIEW_RIGHT","_MAIN_VIEW_TOP","_MAIN_VIEW_BOTTOM","RDFPortal","_appPrepareCounter","_currentView","_currentStarId","_notifications","_homeViewController","_listViewController","_matrixViewController","_graphViewController","_manualViewController","_guidelineViewController","_changeLogViewController","_detailViewController","_$navButtons","_changeId","urlParameter","page","routeDetail","routeDocuments","route","start","queue","ajaxSetup","cache","notificationName","observer","functionObj","isMatch","notification","function","splice","call","_startApp","kindOfView","labelOfView","render","pagetype","hide","viewLabel","currentViewController","show","idIndices","newStyle","$offScreenCanvas","mainView","center","getElementsByTagName","styleSheets","forceCenter","enter","connectedId","sourceId","targetId","d3This","ratio","stroke","strokeWidth","screenWidth","screenHeight","forceSimulation","alpha","alphaTarget","forceLink","forceManyBody","forceX","forceY","nodes","links","active","fx","fy","DEFAULTS","UserDefaults","defaults","cookie","json","extend","_check","obj1","obj2","detail","init","synchronize"],"mappings":"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"}